<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>ベクトル・行列の演算と関数</title>
<meta name="author" content="村田 昇"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="./reveal.js/dist/reveal.css"/>

<link rel="stylesheet" href="./reveal.js/dist/theme/oer-reveal.css" id="theme"/>

<link rel="stylesheet" href="./reveal.js/plugin/toc-progress/toc-progress.css"/>

<link rel="stylesheet" href="./reveal.js/dist/theme/toc-style.css"/>

<link rel="stylesheet" href="./reveal.js/dist/theme/fonts/source-sans-pro/source-sans-pro.css"/>

<link rel="stylesheet" href="./reveal.js/plugin/accessibility/helper.css"/>

<link rel="stylesheet" href="./reveal.js/dist/theme/mycourse.css"/>
<link rel="stylesheet" href="./reveal.js/plugin/highlight/zenburn.css"/>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide" data-state="no-toc-progress">
<!-- This is an HTML template for the title slide. -->
<!-- Embed logos as necessary. -->
<!-- <a class="nooutlink" href="url"><img class="state-background your-logo-class" src="whatever.png" alt="Whatever" /></a> -->
<div class="talk-title">
    <h1 class="no-toc-progress">ベクトル・行列の演算と関数</h1>
</div>
<div class="talk-subtitle">
    <p></p>
</div>
<div class="keyboard-usage">
    <p>(Press <code>?</code> for help, <code>n</code> and <code>p</code> for next and previous slide)</p>
</div>
<div class="talk-author">
  <p>村田 昇<br />
  2020.04.24</p>
</div>

</section>

<section>
<section id="slide-org459f7c4">
<h2 id="org459f7c4">ベクトルの計算</h2>
<div class="outline-text-2" id="text-org459f7c4">
</div>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org1d70862">
<h3 id="org1d70862">ベクトルの表記</h3>
<ul>
<li><p>
ベクトルは太字で，要素は下付き添字で表す
</p>

<div>
\begin{equation}
  \boldsymbol{a}
  =(a_{1},a_{2},\dotsc,a_{k})
\end{equation}

</div>

<div class="org-src-container">

<pre><code class=" R" >a &lt;- c(a1,a2,...,ak) # k次元ベクトルの作成
</code></pre>
</div></li>
<li><p>
別の書き方:
</p>

<div>
\begin{equation}
  (\boldsymbol{a})_{i}
  =\text{(ベクトル $\boldsymbol{a}$ の第 $i$ 成分)}  
\end{equation}

</div></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org1bd7ee4">
<h3 id="org1bd7ee4">ベクトルの加法</h3>
<ul>
<li><p>
<b>同じ長さのベクトル</b> の和および差: <br />
<i>数値の和と差のように扱うことができる</i>
</p>

<div>
\begin{equation}
  \boldsymbol{a}\pm\boldsymbol{b}
  =(a_{1}\pm b_{1},a_{2}\pm b_{2},\dotsc,a_{k}\pm b_{k})
\end{equation}

</div>
<div>
\begin{equation}
  (\boldsymbol{a}\pm\boldsymbol{b})_{i}
  =a_{i}\pm b_{i}
\end{equation}

</div>

<div class="org-src-container">

<pre><code class=" R" >a + b # 同じ長さのベクトル a,b の和
a - b # ベクトルの差
</code></pre>
</div></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-orgb8f1c0c">
<h3 id="orgb8f1c0c">ベクトルの乗法</h3>
<ul>
<li><b>同じ長さの2つのベクトル</b> の乗法: <br />
<i>(2種類ある)</i>
<ul>
<li>成分ごとの積 (Hadamard積; 要素積)</li>
<li>ベクトルの内積</li>

</ul></li>
<li>データ解析ではどちらも良く用いられる</li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org616d57d">
<h3 id="org616d57d">Hadamard積</h3>
<ul>
<li><p>
<b>同じ長さのベクトル</b> の成分ごとの積
</p>

<div>
\begin{equation}
  \boldsymbol{a}\circ\boldsymbol{b}
  =(a_{1}b_{1},a_{2}b_{2},\dotsc,a_{k}b_{k})
\end{equation}

</div>
<div>
\begin{equation}
  (\boldsymbol{a}\circ\boldsymbol{b})_{i}
  =a_{i}b_{i}
\end{equation}

</div>

<div class="org-src-container">

<pre><code class=" R" >a * b # ベクトルの成分ごとの積
a / b # 成分ごとの商も計算可
</code></pre>
</div></li>

</ul>
<div class="slide-footer"><br></div>
</section>
<section id="slide-orga8992d1">
<h3 id="orga8992d1">内積</h3>
<ul>
<li><p>
<b>同じ長さのベクトル</b> の内積
</p>

<div>
\begin{align}
  \boldsymbol{a}\cdot\boldsymbol{b}
  &=a_{1}b_{1}+a_{2}b_{2}+\dotsb+a_{k}b_{k}\\
  &=\sum_{i=1}^{k}a_{i}b_{i}
\end{align}

</div>

<div class="org-src-container">

<pre><code class=" R" >a %*% b # ベクトルの内積
</code></pre>
</div></li>

</ul>

<div class="slide-footer"><br></div>
</section>
</section>
<section>
<section id="slide-orga995651">
<h2 id="orga995651">行列の計算</h2>
<div class="outline-text-2" id="text-orga995651">
</div>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org11f2e83">
<h3 id="org11f2e83">行列の表記</h3>
<ul>
<li><p>
行列は大文字で，要素は下付き添字で表す
</p>

<div>
\begin{equation}
  A
  =
  \begin{pmatrix}
    a_{11}&a_{12}&\dots&a_{1n}\\
    a_{21}&a_{22}&\dots&a_{2n}\\
    \vdots&&\ddots&\vdots\\
    a_{m1}&a_{m2}&\dots&a_{mn}
  \end{pmatrix}
\end{equation}

</div>

<div class="org-src-container">

<pre><code class=" R" >A &lt;- matrix(c(a11,a21,...,amn),m,n) # m x n 行列の作成
</code></pre>
</div></li>
<li><p>
別の書き方:
</p>

<div>
\begin{equation}
  (A)_{ij}
  =\text{(行列 $A$ の $ij$ 成分)}
\end{equation}

</div></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-orga482d62">
<h3 id="orga482d62">行列の加法</h3>
<ul>
<li><p>
<b>同じ大きさの行列</b> の和および差: <br />
<i>ベクトルと同じように記述することができる</i>
</p>

<div>
\begin{equation}
  (A\pm B)_{ij}=a_{ij}\pm b_{ij}
\end{equation}

</div>

<div class="org-src-container">

<pre><code class=" R" >A + B # 同じサイズの行列の和
A - B # 行列の差
</code></pre>
</div></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org721b6b1">
<h3 id="org721b6b1">行列の乗法</h3>
<ul>
<li>2つの行列の乗法: <br />
<i>(2種類ある)</i>
<ul>
<li><b>同じ大きさの行列</b> の成分ごとの積 (Hadamard積; 要素積)</li>
<li><b>\(n\times m\) 型行列と \(m\times l\) 型行列</b> の積</li>

</ul></li>
<li>データ解析ではどちらも良く用いられる</li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org8e39109">
<h3 id="org8e39109">Hadamard積</h3>
<ul>
<li><p>
<b>同じ大きさの行列</b> の成分ごとの積
</p>

<div>
\begin{equation}
  (A\circ B)_{ij}=a_{ij}b_{ij}
\end{equation}

</div>

<div class="org-src-container">

<pre><code class=" R" >A * B # 行列の成分ごとの積
A / B # 成分ごとの商も計算可
</code></pre>
</div></li>

</ul>
<div class="slide-footer"><br></div>
</section>
<section id="slide-orgd08110f">
<h3 id="orgd08110f">行列の積</h3>
<ul>
<li><p>
<b>\(n\times m\) 型行列 \(A\) と \(m\times l\) 型行列 \(B\)</b> の積
</p>

<div>
\begin{equation}
  (AB)_{ij}=\sum_{k=1}^{m}a_{ik}b_{kj}
  \quad\text{($AB$は$n\times l$行列)}
\end{equation}

</div>

<div class="org-src-container">

<pre><code class=" R" >A %*% B # 行列の積
</code></pre>
</div></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-orgecd4b58">
<h3 id="orgecd4b58">行列式とトレース</h3>
<ul>
<li><p>
<b>\(n\) 次正方行列</b> \(A\) の行列式 \(\det(A)\)
</p>
<div class="org-src-container">

<pre><code class=" R" >det(A) # 行列式
</code></pre>
</div></li>
<li><p>
<b>\(n\) 次正方行列</b> \(A\) のトレース(対角成分の総和)
</p>

<div>
\begin{equation}
  \mathrm{trace}(A)=\sum_{i=1}^{n}a_{ii}
\end{equation}

</div>

<p>
関数は用意されていないので以下を利用:
</p>
<ul>
<li>関数 <code>diag()</code>: 行列の対角成分を取り出す(ベクトル)</li>
<li>関数 <code>sum()</code>: ベクトルの総和を計算する</li>

</ul>
<div class="org-src-container">

<pre><code class=" R" >sum(diag(A)) # 行列のトレース
</code></pre>
</div></li>

</ul>

<div class="slide-footer"><br></div>
</section>
</section>
<section>
<section id="slide-org57ec7d8" data-background="#fef4f4">
<h2 id="org57ec7d8">演習</h2>
<div class="slide-footer"><br></div>
</section>
<section id="slide-orgc3f193b" data-background="#fef4f4">
<h3 id="orgc3f193b">例題</h3>
<ul>
<li><p>
適当な2次正方行列 \(A\) で
Hamilton-Cayleyの定理
</p>

<div>
\begin{equation}
  A^2-\mathrm{trace}(A)A+\det(A)E_{2}=O_{2}
\end{equation}

</div>

<p>
の成立を確認せよ．<br />
ただし \(E_{2}\) は2次単位行列，\(O_{2}\) は2次正方零行列
</p></li>

</ul>
<div class="slide-footer"><br></div>
</section>
<section id="slide-orgb4e84e5" data-background="#fef4f4">
<h3 id="orgb4e84e5">解答例</h3>
<div class="org-src-container">

<pre><code class=" R" >## 行列を作成 (好きに設定してよい)
(A &lt;- matrix(1:4,2,2)-diag(rep(3,2)))
</code></pre>
</div>

<pre class="example">
     [,1] [,2]
[1,]   -2    3
[2,]    2    1
</pre>


<div class="org-src-container">

<pre><code class=" R" >## 左辺を計算
A%*%A - sum(diag(A)) * A + det(A) * diag(rep(1,2))
</code></pre>
</div>

<pre class="example">
             [,1]         [,2]
[1,] 1.776357e-15 0.000000e+00
[2,] 0.000000e+00 1.776357e-15
</pre>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org7b0792c" data-background="#fef4f4">
<h3 id="org7b0792c">練習問題</h3>
<ul>
<li>1から10の2乗値からなるベクトルを作成せよ．</li>
<li>1から10までの和を計算せよ．</li>
<li>行列を用いて九九の表を作成せよ．</li>
<li><p>
30度の回転行列を2回乗ずると60度の回転行列となることを確認せよ．
</p>

<div>
\begin{equation}
  \text{(回転行列)}
  =
  \begin{pmatrix}
    \cos(\theta)&-\sin(\theta)\\
    \sin(\theta)& \cos(\theta)
  \end{pmatrix}
\end{equation}

</div></li>

</ul>
<div class="slide-footer"><br></div>
</section>
</section>
<section>
<section id="slide-org5179eaa">
<h2 id="org5179eaa">ベクトルと行列の計算</h2>
<div class="outline-text-2" id="text-org5179eaa">
</div>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org45fb524">
<h3 id="org45fb524">ベクトルと行列の乗法</h3>
<ul>
<li>列(縦)ベクトル・行(横)ベクトルという <b>区別はない</b></li>
<li>行列とベクトルの順序で適切に判断される</li>
<li><p>
計算結果は <b>行列</b> で表現される
</p>
<div class="org-src-container">

<pre><code class=" R" >A &lt;- matrix(1:4,2,2); b &lt;- c(5,6) # 行列とベクトルを作成
</code></pre>
</div>

<div class="org-src-container">

<pre><code class=" R" >A %*% b # 行列 x ベクトル = 列ベクトル
</code></pre>
</div>

<pre class="example">
     [,1]
[1,]   23
[2,]   34
</pre>


<div class="org-src-container">

<pre><code class=" R" >b %*% A # ベクトル x 行列 = 行ベクトル
</code></pre>
</div>

<pre class="example">
     [,1] [,2]
[1,]   17   39
</pre></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org23fd249">
<h3 id="org23fd249">連立1次方程式の解法</h3>
<ul>
<li><p>
連立1次方程式
</p>
<ul>
<li>\(A\) : \(n\) 次正則行列</li>
<li>\(\boldsymbol{b},\boldsymbol{x}\) : \(n\) 次元列ベクトル</li>

</ul>

<div>
\begin{align}
  A\boldsymbol{x}&=\boldsymbol{b}
  &&\text{(連立1次方程式)}\\
  \boldsymbol{x}&=A^{-1}\boldsymbol{b}
  &&\text{(解;$A$が正則な場合)}
\end{align}

</div></li>
<li><p>
解を求めるには関数 <code>solve()</code> を利用する
</p>
<div class="org-src-container">

<pre><code class=" R" >x &lt;- solve(A, b)    
</code></pre>
</div></li>
<li>ベクトル \(\boldsymbol{b}\) の代わりに行列も扱える</li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-orgcbba217">
<h3 id="orgcbba217">逆行列</h3>
<ul>
<li><p>
正則な \(n\) 次正方行列 \(A\) の逆行列 \(A^{-1}\)
</p>

<div>
\begin{equation}
  AA^{-1}=A^{-1}A=E_{n}
  \quad\text{($E_{n}$は$n$次単位行列)}
\end{equation}

</div></li>
<li><p>
関数 <code>solve()</code> を利用して求めることができる
</p>

<div>
\begin{align}
  AX&=E_{n}\\
  X&=A^{-1}E_{n}=A^{-1}
\end{align}

</div>

<div class="org-src-container">

<pre><code class=" R" >solve(A,B) # AX=B の解Xを求める
solve(A) # 逆行列 (Bが単位行列の場合省略できる)
</code></pre>
</div></li>
<li><i>(他にもいくつか方法は用意されている)</i></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org063070a">
<h3 id="org063070a">関数の適用</h3>
<ul>
<li>ベクトルや行列に関数( \(\sin,\exp,\dots\) など)を適用すると
成分ごとに計算した結果が返される</li>
<li><p>
<span style="color:darkgreen;">ベクトル \(\boldsymbol{a}\) ，行列 \(A\) に関数 \(\sin\) を適用</span>
</p>

<div>
\begin{equation}
  (\sin(\boldsymbol{a}))_{i}=\sin(a_{i})
\end{equation}

</div>

<div class="org-src-container">

<pre><code class=" R" >sin(a) # 成分ごとに計算される．sin(a)[i]=sin(a[i])
</code></pre>
</div>

<div>
\begin{equation}
  (\sin(A))_{ij}=\sin(a_{ij})
\end{equation}

</div>

<div class="org-src-container">

<pre><code class=" R" >sin(A) # 成分ごとに計算される．sin(A)[i,j]=sin(A[i,j])
</code></pre>
</div></li>

</ul>

<div class="slide-footer"><br></div>
</section>
</section>
<section>
<section id="slide-org6cb4d83" data-background="#fef4f4">
<h2 id="org6cb4d83">演習</h2>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org52a8809" data-background="#fef4f4">
<h3 id="org52a8809">例題</h3>
<ul>
<li><p>
適当な3次正方行列 \(A\) と3次元ベクトル \(\boldsymbol{b}\) を作成して
\(\boldsymbol{x}\) に関する連立1次方程式
</p>

<div>
\begin{equation}
  A\boldsymbol{x}=\boldsymbol{b}
\end{equation}

</div>

<p>
を解け
</p></li>

</ul>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org7f02ed0" data-background="#fef4f4">
<h3 id="org7f02ed0">解答例</h3>
<div class="org-src-container">

<pre><code class=" R" >## 行列とベクトルを作成 (好きに設定してよい)
## rnorm(9) は正規乱数を9つ作成する(第5回で詳しく説明)
(A &lt;- matrix(rnorm(9),3,3)+diag(rep(1,3)))
(b &lt;- 1:3)
</code></pre>
</div>

<pre class="example">
            [,1]      [,2]      [,3]
[1,] -0.09749043 0.3947415 0.2967005
[2,] -0.56872113 0.1885099 1.7646626
[3,] -0.89090895 1.2002971 0.6061940
[1] 1 2 3
</pre>


<div class="org-src-container">

<pre><code class=" R" >## 解を計算
(x &lt;- solve(A,b))
A%*%x # 結果の確認(b になるはず)
</code></pre>
</div>

<pre class="example">
[1] -0.3435397  1.8264578  0.8275329
     [,1]
[1,]    1
[2,]    2
[3,]    3
</pre>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org6ce43f6" data-background="#fef4f4">
<h3 id="org6ce43f6">練習問題</h3>
<ul>
<li>1から10の2乗値からなるベクトルを作成せよ．</li>
<li>2次元ベクトルを回転行列で変換しても長さが変わらないことを確かめよ．</li>
<li><p>
例題の \(A\) と \(\boldsymbol{b}\) を用いて
</p>
<div class="org-src-container">

<pre><code class=" R" >A %*% b + b %*% A   
</code></pre>
</div>
<p>
を計算するとエラーになるが，何故そうなるか理由を考えよ．
</p></li>

</ul>
<div class="slide-footer"><br></div>
</section>
</section>
<section>
<section id="slide-orgb6b0cb6">
<h2 id="orgb6b0cb6">関数の定義</h2>
<div class="outline-text-2" id="text-orgb6b0cb6">
</div>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org895c3bb">
<h3 id="org895c3bb">自作関数</h3>
<ul>
<li>他の言語と同様にRでも関数を定義できる</li>
<li>関数の定義には関数 <code>function()</code> を利用する</li>
<li><p>
<span style="color:darkgreen;">半径 r から球の体積と表面積を求める関数</span>
</p>
<div class="org-src-container">

<pre><code class=" R" >myfunc &lt;- function(r){
    V &lt;- (4/3) * pi * r^3 # 球の体積
    S &lt;- 4 * pi * r^2     # 球の表面積
    out &lt;- c(V,S) # 返り値のベクトルを作る
    names(out) &lt;- c("volume", "area") # 返り値の要素に名前を付ける
    return(out) # 値を返す
}
myfunc(1) # 実行
</code></pre>
</div>

<pre class="example">
 volume     area 
4.18879 12.56637
</pre></li>

</ul>

<div class="slide-footer"><br></div>
</section>
</section>
<section>
<section id="slide-org85a8a51">
<h2 id="org85a8a51">制御構造</h2>
<div class="outline-text-2" id="text-org85a8a51">
</div>
<div class="slide-footer"><br></div>
</section>
<section id="slide-orgf7b3bd3">
<h3 id="orgf7b3bd3">制御文</h3>
<ul>
<li>最適化や数値計算などを行うためには，
条件分岐や繰り返しを行うための仕組みが必要となる</li>
<li>R言語を含む多くの計算機言語では
<ul>
<li><code>if</code>  (条件分岐)</li>
<li><code>for</code>  (繰り返し・回数指定)</li>
<li><code>while</code>  (繰り返し・条件指定)</li>

</ul></li>
<li>これを <b>制御文</b> と言う</li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org6ce201f">
<h3 id="org6ce201f"><code>if</code> 文</h3>
<ul>
<li><p>
条件Aが <b>真</b> のときプログラムXを実行する
</p>
<div class="org-src-container">

<pre><code class=" R" >if(条件A) プログラムX
</code></pre>
</div></li>
<li><p>
上記の <code>if</code> 文に条件Aが <b>偽</b> のときプログラムYを実行することを追加する
</p>
<div class="org-src-container">

<pre><code class=" R" >if(条件A) プログラムX else プログラムY    
</code></pre>
</div></li>

</ul>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org4f7d09f">
<h3 id="org4f7d09f"><code>if</code> 文の例</h3>
<ul>
<li><p>
<span style="color:darkgreen;">20200724が19で割り切れるか?</span>
</p>
<div class="org-src-container">

<pre><code class=" R" >if(20200724 %% 19 == 0) {# %% は余りを計算
    print("割り切れます")
    print(20200724 %/% 19) # 商を表示
} else { # {}で囲まれたブロックが1つのプログラム
    print("割り切れません")
    print(20200724 %% 19) # 余りを表示
} 
</code></pre>
</div>

<pre class="example">
[1] "割り切れます"
[1] 1063196
</pre></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org77d267d">
<h3 id="org77d267d"><code>for</code> 文</h3>
<ul>
<li><p>
ベクトル <code>V</code> の要素を <b>順に</b> 変数 <code>i</code> に代入して
プログラムXを繰り返し実行する
</p>
<div class="org-src-container">

<pre><code class=" R" >for(i in V) プログラムX
</code></pre>
</div></li>
<li>プログラムXは変数 <code>i</code> によって実行内容が変わる</li>

</ul>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org690a812">
<h3 id="org690a812"><code>for</code> 文の例</h3>
<ul>
<li><p>
<span style="color:darkgreen;">アルファベットの20,15,11,25,15番目を表示</span>
</p>
<div class="org-src-container">

<pre><code class=" R" >print(LETTERS) # LETTERS ベクトルの内容を表示
for(i in c(20,15,11,25,15)) {
    print(LETTERS[i]) # 順番に表示
}
</code></pre>
</div>

<pre class="example">
 [1] "A" "B" "C" "D" "E" "F" "G" "H" "I" "J" "K" "L" "M" "N" "O" "P" "Q" "R" "S"
[20] "T" "U" "V" "W" "X" "Y" "Z"
[1] "T"
[1] "O"
[1] "K"
[1] "Y"
[1] "O"
</pre></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org37ac1f2">
<h3 id="org37ac1f2"><code>while</code> 文</h3>
<ul>
<li><p>
条件Aが <b>真</b> である限りプログラムXを繰り返す
</p>
<div class="org-src-container">

<pre><code class=" R" >while(条件A) プログラムX
</code></pre>
</div></li>
<li>プログラムXは実行するたびに実行内容が変わり，
いつか条件Aが満たされなくなるように書く</li>
<li><i>(<code>repeat</code> 文というものもある)</i></li>

</ul>
<div class="slide-footer"><br></div>
</section>
<section id="slide-orgb54417a">
<h3 id="orgb54417a"><code>while</code> 文の例</h3>
<ul>
<li><p>
<span style="color:darkgreen;">20200809を素因数分解する</span>
</p>
<div class="org-src-container">

<pre><code class=" R" >n &lt;- 20200809 # 分解の対象
p &lt;- 2 # 最初に調べる数
while(n != 1){ # 商が1になるまで計算する
    for(i in p:n){ # pからnまで順に調べる
	if(n%%i == 0) { # 余りが0か確認
	    print(i) # 割り切った数を表示
	    n &lt;- n/i # 商を計算して分解の対象を更新
	    p &lt;- i # 最初に調べる数を更新
	    break # for文を途中で終了
	}  
    }
}
</code></pre>
</div>

<pre class="example">
[1] 3
[1] 31
[1] 281
[1] 773
</pre></li>

</ul>

<div class="slide-footer"><br></div>
</section>
</section>
<section>
<section id="slide-orgcdcfc9f" data-background="#fef4f4">
<h2 id="orgcdcfc9f">演習</h2>
<div class="slide-footer"><br></div>
</section>
<section id="slide-orge0e1e0c" data-background="#fef4f4">
<h3 id="orge0e1e0c">例題</h3>
<ul>
<li>三角形の3辺の長さ \(x,y,z\) を与えると
面積 \(S\) を計算する関数を作成せよ．</li>
<li><p>
参考: <b>ヘロンの公式</b> より
</p>

<div>
\begin{equation}
  S=\sqrt{s(s-x)(s-y)(s-z)},\qquad
  s=\frac{x+y+z}{2}
\end{equation}

</div>

<p>
が成り立つ．
</p></li>

</ul>
<div class="slide-footer"><br></div>
</section>
<section id="slide-orgd0cdeef" data-background="#fef4f4">
<h3 id="orgd0cdeef">解答例</h3>
<div class="org-src-container">

<pre><code class=" R" >area &lt;- function(x,y,z){
    s &lt;- (x+y+z)/2
    S &lt;- (s*(s-x)*(s-y)*(s-z))^(1/2)
    ## S &lt;- sqrt(s*(s-x)*(s-y)*(s-z)) # 平方根を求める関数を用いても良い
  return(S)
}
area(3,4,5) # 直角三角形で検算
area(12,13,5)
</code></pre>
</div>

<pre class="example">
[1] 6
[1] 30
</pre>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org8a19a1d" data-background="#fef4f4">
<h3 id="org8a19a1d">演習</h3>
<ul>
<li>非負の整数 \(n\) の階乗 \(n!\) を求める関数を作成せよ．</li>
<li><p>
整数 \(n\) の Fibonacci数を求める関数を作成せよ．
</p>

<div>
\begin{align}
  F_{0}&=0\\
  F_{1}&=1\\
  F_{n}&=F_{n-1}+F_{n-2}
\end{align}

</div></li>
<li>行列 \(X\) が与えられたとき，各列の平均を計算する関数を作成せよ．</li>
<li>前問で \(X\) がベクトルの場合にはその平均を計算するように修正せよ．<br />
<i>(関数 <code>is.vector()</code> が利用できる)</i></li>

</ul>
<div class="slide-footer"><br></div>
</section>
</section>
</div>
</div>
<script src="./reveal.js/dist/reveal.js"></script>
<script src="./reveal.js/plugin/notes/notes.js"></script>
<script src="./reveal.js/plugin/search/search.js"></script>
<script src="./reveal.js/plugin/zoom/zoom.js"></script>
<script src="./reveal.js/plugin/highlight/highlight.js"></script>
<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

controls: true,
progress: true,
history: true,
center: true,
slideNumber: 'c',
rollingLinks: false,
keyboard: true,
mouseWheel: true,
fragmentInURL: true,
hashOneBasedIndex: false,
pdfSeparateFragments: false,

overview: true,

transition: 'fade',
transitionSpeed: 'default',
chalkboard: { toggleChalkboardButton: { left: '80px' }, toggleNotesButton: { left: '130px'}}, keyboard: { 69: function() { RevealChalkboard.toggleNotesCanvas() }, 87: function() { RevealChalkboard.toggleChalkboard() }, 67: function() { RevealChalkboard.clear() }, 82: function() { RevealChalkboard.reset() }, 68: function() { RevealChalkboard.download() }, 88: function() { RevealChalkboard.colorNext() }, 89: function() { RevealChalkboard.colorPrev() }},

// Plugins with reveal.js 4.x
plugins: [ RevealNotes, RevealSearch, RevealZoom, RevealHighlight ],

// Optional libraries used to extend reveal.js
dependencies: [
{ src: './reveal.js/plugin/menu/menu.js'},
{ src: './reveal.js/plugin/chalkboard/chalkboard.js'}]

});
</script>
</body>
</html>
