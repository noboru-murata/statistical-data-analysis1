<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>データ構造</title>
<meta name="author" content="村田 昇"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="./reveal.js/dist/reveal.css"/>

<link rel="stylesheet" href="./reveal.js/dist/theme/oer-reveal.css" id="theme"/>

<link rel="stylesheet" href="./reveal.js/plugin/toc-progress/toc-progress.css"/>

<link rel="stylesheet" href="./reveal.js/dist/theme/toc-style.css"/>

<link rel="stylesheet" href="./reveal.js/dist/theme/fonts/source-sans-pro/source-sans-pro.css"/>

<link rel="stylesheet" href="./reveal.js/plugin/accessibility/helper.css"/>

<link rel="stylesheet" href="./reveal.js/dist/theme/mycourse.css"/>
<link rel="stylesheet" href="./reveal.js/plugin/highlight/zenburn.css"/>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide" data-state="no-toc-progress">
<!-- This is an HTML template for the title slide. -->
<!-- Embed logos as necessary. -->
<!-- <a class="nooutlink" href="url"><img class="state-background your-logo-class" src="whatever.png" alt="Whatever" /></a> -->
<div class="talk-title">
    <h1 class="no-toc-progress">データ構造</h1>
</div>
<div class="talk-subtitle">
    <p>R言語で扱うデータ構造とその演算</p>
</div>
<div class="keyboard-usage">
    <p>(Press <code>?</code> for help, <code>n</code> and <code>p</code> for next and previous slide)</p>
</div>
<div class="talk-author">
  <p>村田 昇<br />
  </p>
</div>

</section>

<section>
<section id="slide-orgc3ec02b">
<h2 id="orgc3ec02b">講義の内容</h2>
<ul>
<li>R言語のデータ構造</li>
<li>ベクトルの計算</li>
<li>行列の計算</li>
<li>ベクトルと行列の計算</li>

</ul>

<div class="slide-footer"><br></div>
</section>
</section>
<section>
<section id="slide-org272c8bc">
<h2 id="org272c8bc">R言語のデータ構造</h2>
<div class="outline-text-2" id="text-org272c8bc">
</div>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org3fb90e8">
<h3 id="org3fb90e8">Rの基本的なデータ構造</h3>
<ul>
<li>下記は基本的なもの
<ul>
<li>ベクトル (vector)</li>
<li>行列 (matrix)</li>
<li>リスト (list)</li>
<li>データフレーム (data frame)</li>
<li>配列 (array)</li>

</ul></li>
<li><i><span style="color:gray;">パッケージなどで拡張することができる</span></i></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org17d103a">
<h3 id="org17d103a">ベクトルとは</h3>
<ul>
<li>スカラー値(単一の値)の集合</li>
<li>スカラー値として扱われる主なもの
<ul>
<li>数値 (実数や複素数)</li>
<li>文字列 (&rsquo;や&ldquo;で囲まれた文字．&rdquo;foo&ldquo;，&rdquo;bar&ldquo;など)</li>
<li>論理値 ( <code>TRUE</code> , <code>FALSE</code> )</li>

</ul></li>
<li>Rオブジェクトの多くはベクトルとして扱われる<br />
<i><span style="color:gray;">スカラーは長さ1のベクトルとして扱われる</span></i></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org681352c">
<h3 id="org681352c">ベクトルの生成と操作</h3>
<ul>
<li><p>
数値や文字列の要素からなるベクトルの生成:
</p>
<div class="org-src-container">

<pre><code class=" R" >(x &lt;- c("Alice","Bob","Cathy","David")) # 文字列のベクトル
(y &lt;- c(1,-2,3,-4,5)) # 数値のベクトル
(z &lt;- c("apple","berry","cat","dog","elephant")) # 文字列のベクトル
## 外側の () は代入した結果の表示．print() と同義
</code></pre>
</div>

<pre class="example">
[1] "Alice" "Bob"   "Cathy" "David"
[1]  1 -2  3 -4  5
[1] "apple"    "berry"    "cat"      "dog"     
[5] "elephant"
</pre></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section>
<ul>
<li><p>
ベクトルの長さの取得:
</p>
<div class="org-src-container">

<pre><code class=" R" >length(x)    
</code></pre>
</div>

<pre class="example">
[1] 4
</pre></li>

<li><p>
ベクトルの要素の取得:
</p>
<div class="org-src-container">

<pre><code class=" R" >x[3] # xの第3要素 (ベクトルの添え字は1から始まる)
y[c(1,3,4)] # 複数の要素 = c(y[1],y[3],y[4])
</code></pre>
</div>

<pre class="example">
[1] "Cathy"
[1]  1  3 -4
</pre></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section>
<ul>
<li><p>
実数 <code>a</code> から <code>b</code> まで
1ずつ変化するベクトル:
</p>
<div class="org-src-container">

<pre><code class=" R" >a &lt;- 8; b &lt;- 15 # 変数 a,b に値を代入
a:b # a &lt; b の場合は1ずつ増加する系列が作成される
a &lt;- 29.5; b &lt;- 24
a:b # 逆の場合は1ずつ減少する系列が作成される
29.5:24 # 直接数値を書いてもよい
</code></pre>
</div>

<pre class="example">
[1]  8  9 10 11 12 13 14 15
[1] 29.5 28.5 27.5 26.5 25.5 24.5
[1] 29.5 28.5 27.5 26.5 25.5 24.5
</pre></li>

<li><p>
実数 <code>a</code> から <code>b</code> まで
<code>c</code> ずつ変化するベクトル:
</p>
<div class="org-src-container">

<pre><code class=" R" >a &lt;- 1; b &lt;- 16; c &lt;- 2 # 変数 a,b,c に値を代入
seq(a,b,by=c) # from=a,to=b と明示してもよい    
</code></pre>
</div>

<pre class="example">
[1]  1  3  5  7  9 11 13 15
</pre></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section>
<ul>
<li><p>
ベクトルの反転:
</p>
<div class="org-src-container">

<pre><code class=" R" >rev(x)
</code></pre>
</div>

<pre class="example">
[1] "David" "Cathy" "Bob"   "Alice"
</pre></li>

<li><p>
ベクトルの繰り返し:
</p>
<div class="org-src-container">

<pre><code class=" R" >n &lt;- 3 # 変数 n に値を代入
rep(y,n) # 長さは length(y) * n 
</code></pre>
</div>

<pre class="example">
[1]  1 -2  3 -4  5  1 -2  3 -4  5  1 -2  3 -4  5
</pre></li>

<li><p>
ベクトルの結合:
</p>
<div class="org-src-container">

<pre><code class=" R" >c(x,z) # 異なる属性のものは結合できない．c(x,y) を試みよ
</code></pre>
</div>

<pre class="example">
[1] "Alice"    "Bob"      "Cathy"    "David"   
[5] "apple"    "berry"    "cat"      "dog"     
[9] "elephant"
</pre></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org8c3ee5a">
<h3 id="org8c3ee5a">行列の生成と操作</h3>
<ul>
<li><p>
すべての要素が <code>a</code> である \(m\times n\) 行列:
</p>
<div class="org-src-container">

<pre><code class=" R" >matrix(a,m,n)     
</code></pre>
</div></li>
<li><p>
長さ \(mn\) のベクトル <code>x</code> を \(m\times n\) 行列に変換:
</p>

<div class="org-src-container">

<pre><code class=" R" >x &lt;- c(x11,...,xm1,x12,...,xm2,...,x1n,...,xmn)
matrix(x,m,n)    
</code></pre>
</div></li>
<li><p>
関数 <code>as.vector()</code> を用いたベクトル化:
</p>
<div class="org-src-container">

<pre><code class=" R" >x &lt;- as.vector(matrix(x,m,n))
</code></pre>
</div></li>

</ul>
<div class="slide-footer"><br></div>
</section>
<section>
<ul>
<li><p>
行列のサイズの取得: 
</p>
<div class="org-src-container">

<pre><code class=" R" >dim(X) # 長さ2のベクトル
nrow(X) # 行数
ncol(X) # 列数
</code></pre>
</div></li>

</ul>

<ul>
<li><p>
行列の成分の取得:
</p>
<div class="org-src-container">

<pre><code class=" R" >X[i,j] # (i,j)成分
X[i, ] # 第i行
X[ ,j] # 第j列
X[c(1,3),2:4] # 1，3行と，2〜4列からなる部分行列
</code></pre>
</div></li>
<li><p>
長さが等しい複数のベクトルの結合:
</p>
<div class="org-src-container">

<pre><code class=" R" >rbind(x, y, ...) # 行ベクトルとして結合
cbind(x, y, ...) # 列ベクトルとして結合
</code></pre>
</div></li>

</ul>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org3b09406">
<h3 id="org3b09406">行列の生成と操作 (補足)</h3>
<ul>
<li>関数 <code>cbind()/rbind()</code> は行数/列数が等しい行列を横/縦に結合できる</li>
<li>行列の高次元版として配列(array)が用意されている</li>
<li>関数 <code>rownames()/colnames()</code> を用いると行と列に名前を付けることができる</li>

</ul>


<div class="slide-footer"><br></div>
</section>
<section id="slide-org6409ad8">
<h3 id="org6409ad8">リストとは</h3>
<ul>
<li>異なる構造のデータを1つにまとめたもの</li>
<li>リストの各要素は異なる型であって構わない</li>
<li>本講義のデータ解析ではほとんど用いない</li>
<li>Rの関数の操作ではときどき必要</li>

</ul>
<div class="slide-footer"><br></div>
</section>
<section id="slide-orgea79932">
<h3 id="orgea79932">リストの生成と操作</h3>
<ul>
<li><p>
リストの生成:
</p>
<div class="org-src-container">

<pre><code class=" R" >L &lt;- list(x,y) # x,yを要素とするリスト
L[[i]] # リストの第i要素
</code></pre>
</div></li>
<li><p>
リストの各要素に名前を付与:
</p>
<div class="org-src-container">

<pre><code class=" R" >L1 &lt;- list(first=x, second=y) # 方法1
L2 &lt;- list(x,y)               # 方法2
names(L2) &lt;- c("first","second")
</code></pre>
</div></li>
<li><p>
名前によるリストの要素の取得:
</p>
<div class="org-src-container">

<pre><code class=" R" >L1$first      # 方法1
L2[["first"]] # 方法2
</code></pre>
</div></li>

</ul>
<div class="slide-footer"><br></div>
</section>
<section id="slide-orga569876">
<h3 id="orga569876">データフレームとは</h3>
<ul>
<li>長さの等しいベクトルを束ねたリスト</li>
<li>いくつかの個体について，いくつかの属性を集計したデータ</li>
<li><span style="color:darkgreen;">ある小学校の1年生の身長・体重・性別・血液型</span>
<ul>
<li>各成分はある個体のある属性に関する観測データ</li>
<li>個体数は集計項目に関わらず変化しないが，
集計項目によっては定量的データ・定性的データの違いが出てくるので
データ型は変わりうる</li>

</ul></li>
<li>実データの多くは表形式で与えられるため，
実データに則したデータ構造</li>

</ul>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org69c84ce">
<h3 id="org69c84ce">データフレームの生成と操作</h3>
<ul>
<li><p>
データフレームの生成:
</p>
<div class="org-src-container">

<pre><code class=" R" >data.frame(A=x,B=y,C=z) # x,y,zは同じ長さ，各列はA,B,Cという名前
</code></pre>
</div></li>
<li>データフレームは <b>リスト</b> でもある<br />
リストと同様にして各変数にアクセスできる</li>
<li>データフレームは <b>行列</b> でもある<br />
行数がベクトルの長さ(個体数), 列数が変数の個数(観測項目の数)の行列と同様にアクセスできる</li>

</ul>


<div class="slide-footer"><br></div>
</section>
</section>
<section>
<section id="slide-orgaf4c162" data-background="#fef4f4">
<h2 id="orgaf4c162">演習</h2>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org77fe24e" data-background="#fef4f4">
<h3 id="org77fe24e">練習問題</h3>
<p>
ベクトルの操作に慣れよう
</p>
<ul>
<li>以下に示すベクトルを作成してみよう
<ul>
<li>1から10までの自然数のベクトル</li>
<li>1以上30以下の奇数を昇順に並べたベクトル</li>
<li>すべての要素が1からなる長さ10のベクトル</li>

</ul></li>
<li>作成したベクトルを操作してみよう
<ul>
<li>ベクトルの長さを求める</li>
<li>3番目の要素を取り出す</li>
<li>最後の要素を取り出す</li>

</ul></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-orgc662ab4" data-background="#fef4f4">
<h3 id="orgc662ab4">練習問題</h3>
<p>
行列の操作に慣れよう
</p>
<ul>
<li><p>
以下に示す行列を作成してみよう
</p>

<div>
\begin{equation*}
  \begin{pmatrix}
    1  & 2  & 3  \\
    4  & 5  & 6 
  \end{pmatrix}
\end{equation*}

</div></li>
<li>行列を操作してみよう
<ul>
<li>2行2列成分を取り出す</li>
<li>転置行列を作成する</li>
<li>行名をつける</li>

</ul></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org34e7388" data-background="#fef4f4">
<h3 id="org34e7388">練習問題</h3>
<p>
データフレームの操作に慣れよう
</p>
<ul>
<li><p>
次の表に対応するデータフレームを作成してみよう
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-right">国語</th>
<th scope="col" class="org-right">数学</th>
<th scope="col" class="org-right">英語</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Alice</td>
<td class="org-right">90</td>
<td class="org-right">25</td>
<td class="org-right">65</td>
</tr>

<tr>
<td class="org-left">Bob</td>
<td class="org-right">80</td>
<td class="org-right">50</td>
<td class="org-right">100</td>
</tr>

<tr>
<td class="org-left">Cathy</td>
<td class="org-right">70</td>
<td class="org-right">75</td>
<td class="org-right">70</td>
</tr>

<tr>
<td class="org-left">David</td>
<td class="org-right">60</td>
<td class="org-right">100</td>
<td class="org-right">40</td>
</tr>
</tbody>
</table></li>
<li>データフレームを操作してみよう
<ul>
<li>数学の列を取り出す</li>
<li>Cathyの行を取り出す</li>

</ul></li>

</ul>


<div class="slide-footer"><br></div>
</section>
</section>
<section>
<section id="slide-org3fcc360">
<h2 id="org3fcc360">ベクトルの計算</h2>
<div class="outline-text-2" id="text-org3fcc360">
</div>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org7859da2">
<h3 id="org7859da2">ベクトルの表記</h3>
<ul>
<li><p>
ベクトルは太字で，要素は下付き添字で表す
</p>

<div>
\begin{equation}
  \boldsymbol{a}
  =(a_{1},a_{2},\dotsc,a_{k})
\end{equation}

</div>

<div class="org-src-container">

<pre><code class=" R" >a &lt;- c(a1,a2,...,ak) # k次元ベクトルの作成
</code></pre>
</div></li>
<li><p>
別の書き方:
</p>

<div>
\begin{equation}
  (\boldsymbol{a})_{i}
  =\text{(ベクトル $\boldsymbol{a}$ の第 $i$ 成分)}  
\end{equation}

</div></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-orgbe0c8da">
<h3 id="orgbe0c8da">ベクトルの加法</h3>
<ul>
<li><p>
<b>同じ長さのベクトル</b> の和および差: <br />
<i>数値の和と差のように扱うことができる</i>
</p>

<div>
\begin{equation}
  \boldsymbol{a}\pm\boldsymbol{b}
  =(a_{1}\pm b_{1},a_{2}\pm b_{2},\dotsc,a_{k}\pm b_{k})
\end{equation}

</div>
<div>
\begin{equation}
  (\boldsymbol{a}\pm\boldsymbol{b})_{i}
  =a_{i}\pm b_{i}
\end{equation}

</div>

<div class="org-src-container">

<pre><code class=" R" >a + b # 同じ長さのベクトル a,b の和
a - b # ベクトルの差
</code></pre>
</div></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org089675c">
<h3 id="org089675c">ベクトルの乗法</h3>
<ul>
<li><b>同じ長さの2つのベクトル</b> の乗法: <br />
<i>(2種類ある)</i>
<ul>
<li>成分ごとの積 (Hadamard積; 要素積)</li>
<li>ベクトルの内積</li>

</ul></li>
<li>データ解析ではどちらも良く用いられる</li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-orgc022e50">
<h3 id="orgc022e50">Hadamard積</h3>
<ul>
<li><p>
<b>同じ長さのベクトル</b> の成分ごとの積
</p>

<div>
\begin{equation}
  \boldsymbol{a}\circ\boldsymbol{b}
  =(a_{1}b_{1},a_{2}b_{2},\dotsc,a_{k}b_{k})
\end{equation}

</div>
<div>
\begin{equation}
  (\boldsymbol{a}\circ\boldsymbol{b})_{i}
  =a_{i}b_{i}
\end{equation}

</div>

<div class="org-src-container">

<pre><code class=" R" >a * b # ベクトルの成分ごとの積
a / b # 成分ごとの商も計算可
</code></pre>
</div></li>

</ul>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org345bf09">
<h3 id="org345bf09">内積</h3>
<ul>
<li><p>
<b>同じ長さのベクトル</b> の内積
</p>

<div>
\begin{align}
  \boldsymbol{a}\cdot\boldsymbol{b}
  &=a_{1}b_{1}+a_{2}b_{2}+\dotsb+a_{k}b_{k}\\
  &=\sum_{i=1}^{k}a_{i}b_{i}
\end{align}

</div>

<div class="org-src-container">

<pre><code class=" R" >a %*% b # ベクトルの内積
</code></pre>
</div></li>

</ul>


<div class="slide-footer"><br></div>
</section>
</section>
<section>
<section id="slide-orgc224043">
<h2 id="orgc224043">行列の計算</h2>
<div class="outline-text-2" id="text-orgc224043">
</div>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org3da5705">
<h3 id="org3da5705">行列の表記</h3>
<ul>
<li><p>
行列は大文字で，要素は下付き添字で表す
</p>

<div>
\begin{equation}
  A
  =
  \begin{pmatrix}
    a_{11}&a_{12}&\dots&a_{1n}\\
    a_{21}&a_{22}&\dots&a_{2n}\\
    \vdots&&\ddots&\vdots\\
    a_{m1}&a_{m2}&\dots&a_{mn}
  \end{pmatrix}
\end{equation}

</div>

<div class="org-src-container">

<pre><code class=" R" >A &lt;- matrix(c(a11,a21,...,amn),m,n) # m x n 行列の作成
</code></pre>
</div></li>
<li><p>
別の書き方:
</p>

<div>
\begin{equation}
  (A)_{ij}
  =\text{(行列 $A$ の $ij$ 成分)}
\end{equation}

</div></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org97a2e96">
<h3 id="org97a2e96">行列の加法</h3>
<ul>
<li><p>
<b>同じ大きさの行列</b> の和および差: <br />
<i>ベクトルと同じように記述することができる</i>
</p>

<div>
\begin{equation}
  (A\pm B)_{ij}=a_{ij}\pm b_{ij}
\end{equation}

</div>

<div class="org-src-container">

<pre><code class=" R" >A + B # 同じサイズの行列の和
A - B # 行列の差
</code></pre>
</div></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-orgf08c894">
<h3 id="orgf08c894">行列の乗法</h3>
<ul>
<li>2つの行列の乗法: <br />
<i>(2種類ある)</i>
<ul>
<li><b>同じ大きさの行列</b> の成分ごとの積 (Hadamard積; 要素積)</li>
<li><b>\(n\times m\) 型行列と \(m\times l\) 型行列</b> の積</li>

</ul></li>
<li>データ解析ではどちらも良く用いられる</li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org2e0e947">
<h3 id="org2e0e947">Hadamard積</h3>
<ul>
<li><p>
<b>同じ大きさの行列</b> の成分ごとの積
</p>

<div>
\begin{equation}
  (A\circ B)_{ij}=a_{ij}b_{ij}
\end{equation}

</div>

<div class="org-src-container">

<pre><code class=" R" >A * B # 行列の成分ごとの積
A / B # 成分ごとの商も計算可
</code></pre>
</div></li>

</ul>
<div class="slide-footer"><br></div>
</section>
<section id="slide-orgb8fbbec">
<h3 id="orgb8fbbec">行列の積</h3>
<ul>
<li><p>
<b>\(n\times m\) 型行列 \(A\) と \(m\times l\) 型行列 \(B\)</b> の積
</p>

<div>
\begin{equation}
  (AB)_{ij}=\sum_{k=1}^{m}a_{ik}b_{kj}
  \quad\text{($AB$は$n\times l$行列)}
\end{equation}

</div>

<div class="org-src-container">

<pre><code class=" R" >A %*% B # 行列の積
</code></pre>
</div></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org6713dc5">
<h3 id="org6713dc5">行列式とトレース</h3>
<ul>
<li><p>
<b>\(n\) 次正方行列</b> \(A\) の行列式 \(\det(A)\)
</p>
<div class="org-src-container">

<pre><code class=" R" >det(A) # 行列式
</code></pre>
</div></li>
<li><p>
<b>\(n\) 次正方行列</b> \(A\) のトレース(対角成分の総和)
</p>

<div>
\begin{equation}
  \mathrm{trace}(A)=\sum_{i=1}^{n}a_{ii}
\end{equation}

</div>

<p>
関数は用意されていないので以下を利用:
</p>
<ul>
<li>関数 <code>diag()</code>: 行列の対角成分を取り出す(ベクトル)</li>
<li>関数 <code>sum()</code>: ベクトルの総和を計算する</li>

</ul>
<div class="org-src-container">

<pre><code class=" R" >sum(diag(A)) # 行列のトレース
</code></pre>
</div></li>

</ul>


<div class="slide-footer"><br></div>
</section>
</section>
<section>
<section id="slide-orge5fc38c" data-background="#fef4f4">
<h2 id="orge5fc38c">演習</h2>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org3491c38" data-background="#fef4f4">
<h3 id="org3491c38">例題</h3>
<ul>
<li><p>
適当な2次正方行列 \(A\) で
Hamilton-Cayleyの定理
</p>

<div>
\begin{equation}
  A^2-\mathrm{trace}(A)A+\det(A)E_{2}=O_{2}
\end{equation}

</div>

<p>
の成立を確認せよ．<br />
ただし \(E_{2}\) は2次単位行列，\(O_{2}\) は2次正方零行列
</p></li>

</ul>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org6fc8283" data-background="#fef4f4">
<h3 id="org6fc8283">解答例</h3>
<div class="org-src-container">

<pre><code class=" R" >## 行列を作成 (好きに設定してよい)
(A &lt;- matrix(1:4,2,2)-diag(rep(3,2)))
</code></pre>
</div>

<pre class="example">
     [,1] [,2]
[1,]   -2    3
[2,]    2    1
</pre>


<div class="org-src-container">

<pre><code class=" R" >## 左辺を計算
A%*%A - sum(diag(A)) * A + det(A) * diag(rep(1,2))
</code></pre>
</div>

<pre class="example">
             [,1]         [,2]
[1,] 1.776357e-15 0.000000e+00
[2,] 0.000000e+00 1.776357e-15
</pre>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org460cc42" data-background="#fef4f4">
<h3 id="org460cc42">練習問題</h3>
<ul>
<li>1から10の2乗値からなるベクトルを作成せよ．</li>
<li>1から10までの和を計算せよ．</li>
<li>行列を用いて九九の表を作成せよ．</li>
<li><p>
30度の回転行列を2回乗ずると60度の回転行列となることを確認せよ．
</p>

<div>
\begin{equation}
  \text{(回転行列)}
  =
  \begin{pmatrix}
    \cos(\theta)&-\sin(\theta)\\
    \sin(\theta)& \cos(\theta)
  \end{pmatrix}
\end{equation}

</div></li>

</ul>
<div class="slide-footer"><br></div>
</section>
</section>
<section>
<section id="slide-org851c716">
<h2 id="org851c716">ベクトルと行列の計算</h2>
<div class="outline-text-2" id="text-org851c716">
</div>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org3ef25f5">
<h3 id="org3ef25f5">ベクトルと行列の乗法</h3>
<ul>
<li>列(縦)ベクトル・行(横)ベクトルという <b>区別はない</b></li>
<li>行列とベクトルの順序で適切に判断される</li>
<li><p>
計算結果は <b>行列</b> で表現される
</p>
<div class="org-src-container">

<pre><code class=" R" >A &lt;- matrix(1:4,2,2); b &lt;- c(5,6) # 行列とベクトルを作成
</code></pre>
</div>

<div class="org-src-container">

<pre><code class=" R" >A %*% b # 行列 x ベクトル = 列ベクトル
</code></pre>
</div>

<pre class="example">
     [,1]
[1,]   23
[2,]   34
</pre>


<div class="org-src-container">

<pre><code class=" R" >b %*% A # ベクトル x 行列 = 行ベクトル
</code></pre>
</div>

<pre class="example">
     [,1] [,2]
[1,]   17   39
</pre></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org3591d01">
<h3 id="org3591d01">連立1次方程式の解法</h3>
<ul>
<li><p>
連立1次方程式
</p>
<ul>
<li>\(A\) : \(n\) 次正則行列</li>
<li>\(\boldsymbol{b},\boldsymbol{x}\) : \(n\) 次元列ベクトル</li>

</ul>

<div>
\begin{align}
  A\boldsymbol{x}&=\boldsymbol{b}
  &&\text{(連立1次方程式)}\\
  \boldsymbol{x}&=A^{-1}\boldsymbol{b}
  &&\text{(解;$A$が正則な場合)}
\end{align}

</div></li>
<li><p>
解を求めるには関数 <code>solve()</code> を利用する
</p>
<div class="org-src-container">

<pre><code class=" R" >x &lt;- solve(A, b)    
</code></pre>
</div></li>
<li>ベクトル \(\boldsymbol{b}\) の代わりに行列も扱える</li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org1fc2740">
<h3 id="org1fc2740">逆行列</h3>
<ul>
<li><p>
正則な \(n\) 次正方行列 \(A\) の逆行列 \(A^{-1}\)
</p>

<div>
\begin{equation}
  AA^{-1}=A^{-1}A=E_{n}
  \quad\text{($E_{n}$は$n$次単位行列)}
\end{equation}

</div></li>
<li><p>
関数 <code>solve()</code> を利用して求めることができる
</p>

<div>
\begin{align}
  AX&=E_{n}\\
  X&=A^{-1}E_{n}=A^{-1}
\end{align}

</div>

<div class="org-src-container">

<pre><code class=" R" >solve(A,B) # AX=B の解Xを求める
solve(A) # 逆行列 (Bが単位行列の場合省略できる)
</code></pre>
</div></li>
<li><i>(他にもいくつか方法は用意されている)</i></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org6e295a6">
<h3 id="org6e295a6">関数の適用</h3>
<ul>
<li>ベクトルや行列に関数( \(\sin,\exp,\dots\) など)を適用すると
成分ごとに計算した結果が返される</li>
<li><p>
<span style="color:darkgreen;">ベクトル \(\boldsymbol{a}\) ，行列 \(A\) に関数 \(\sin\) を適用</span>
</p>

<div>
\begin{equation}
  (\sin(\boldsymbol{a}))_{i}=\sin(a_{i})
\end{equation}

</div>

<div class="org-src-container">

<pre><code class=" R" >sin(a) # 成分ごとに計算される．sin(a)[i]=sin(a[i])
</code></pre>
</div>

<div>
\begin{equation}
  (\sin(A))_{ij}=\sin(a_{ij})
\end{equation}

</div>

<div class="org-src-container">

<pre><code class=" R" >sin(A) # 成分ごとに計算される．sin(A)[i,j]=sin(A[i,j])
</code></pre>
</div></li>

</ul>


<div class="slide-footer"><br></div>
</section>
</section>
<section>
<section id="slide-orga81561b" data-background="#fef4f4">
<h2 id="orga81561b">演習</h2>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org13c6ab9" data-background="#fef4f4">
<h3 id="org13c6ab9">例題</h3>
<ul>
<li><p>
適当な3次正方行列 \(A\) と3次元ベクトル \(\boldsymbol{b}\) を作成して
\(\boldsymbol{x}\) に関する連立1次方程式
</p>

<div>
\begin{equation}
  A\boldsymbol{x}=\boldsymbol{b}
\end{equation}

</div>

<p>
を解け
</p></li>

</ul>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org1ec64ef" data-background="#fef4f4">
<h3 id="org1ec64ef">解答例</h3>
<div class="org-src-container">

<pre><code class=" R" >## 行列とベクトルを作成 (好きに設定してよい)
## rnorm(9) は正規乱数を9つ作成する(第5回で詳しく説明)
(A &lt;- matrix(rnorm(9),3,3)+diag(rep(1,3)))
(b &lt;- 1:3)
</code></pre>
</div>

<pre class="example">
           [,1]      [,2]      [,3]
[1,]  1.9186431 1.0999135 0.3471499
[2,] -0.3902873 0.9458098 0.4378215
[3,] -0.8939576 0.8629217 1.2622294
[1] 1 2 3
</pre>


<div class="org-src-container">

<pre><code class=" R" >## 解を計算
(x &lt;- solve(A,b))
A%*%x # 結果の確認(b になるはず)
</code></pre>
</div>

<pre class="example">
[1] -0.4865372  1.4236581  1.0588812
     [,1]
[1,]    1
[2,]    2
[3,]    3
</pre>

<div class="slide-footer"><br></div>
</section>
<section id="slide-org0f7e255" data-background="#fef4f4">
<h3 id="org0f7e255">練習問題</h3>
<ul>
<li>1から10の2乗値からなるベクトルを作成せよ．</li>
<li>2次元ベクトルを回転行列で変換しても長さが変わらないことを確かめよ．</li>
<li><p>
例題の \(A\) と \(\boldsymbol{b}\) を用いて
</p>
<div class="org-src-container">

<pre><code class=" R" >A %*% b + b %*% A   
</code></pre>
</div>
<p>
を計算するとエラーになるが，何故そうなるか理由を考えよ．
</p></li>

</ul>
<div class="slide-footer"><br></div>
</section>
</section>
</div>
</div>
<script src="./reveal.js/dist/reveal.js"></script>
<script src="./reveal.js/plugin/notes/notes.js"></script>
<script src="./reveal.js/plugin/search/search.js"></script>
<script src="./reveal.js/plugin/zoom/zoom.js"></script>
<script src="./reveal.js/plugin/highlight/highlight.js"></script>
<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

controls: true,
progress: true,
history: true,
center: true,
slideNumber: 'c',
rollingLinks: false,
keyboard: true,
mouseWheel: false,
fragmentInURL: true,
hashOneBasedIndex: false,
pdfSeparateFragments: false,

overview: true,

transition: 'fade',
transitionSpeed: 'default',
spotlight: { size: 90, initialPresentationMode: false }, chalkboard: { toggleChalkboardButton: { left: '80px' }, toggleNotesButton: { left: '130px'}}, keyboard: { 69: function() { RevealChalkboard.toggleNotesCanvas() }, 87: function() { RevealChalkboard.toggleChalkboard() }, 67: function() { RevealChalkboard.clear() }, 82: function() { RevealChalkboard.reset() }, 68: function() { RevealChalkboard.download() }, 88: function() { RevealChalkboard.colorNext() }, 89: function() { RevealChalkboard.colorPrev() }, 84: function() { RevealSpotlight.toggleSpotlight() }, 81: function() { RevealSpotlight.togglePresentationMode()}},

// Plugins with reveal.js 4.x
plugins: [ RevealNotes, RevealSearch, RevealZoom, RevealHighlight ],

// Optional libraries used to extend reveal.js
dependencies: [
{ src: './reveal.js/plugin/menu/menu.js'},
{ src: './reveal.js/plugin/chalkboard/chalkboard.js'},
{ src: './reveal.js/plugin/spotlight/spotlight.js'}]

});
</script>
</body>
</html>
