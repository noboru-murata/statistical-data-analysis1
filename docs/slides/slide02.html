<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>データ構造と操作</title>
<meta name="author" content="村田 昇"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="./reveal.js/dist/reveal.css"/>

<link rel="stylesheet" href="./reveal.js/dist/theme/oer-reveal.css" id="theme"/>

<link rel="stylesheet" href="./reveal.js/dist/theme/fonts/source-sans-pro/source-sans-pro.css"/>

<link rel="stylesheet" href="./reveal.js/plugin/menu/menu.css"/>

<link rel="stylesheet" href="./reveal.js/plugin/menu/font-awesome/css/fontawesome.css"/>

<link rel="stylesheet" href="./reveal.js/plugin/chalkboard/style.css"/>

<link rel="stylesheet" href="./reveal.js/local/mycourse.css"/>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide">
<!-- This is an HTML template for the title slide. -->
<!-- Embed logos as necessary. -->
<!-- <a class="nooutlink" href="url"><img class="state-background your-logo-class" src="whatever.png" alt="Whatever" /></a> -->
<div class="talk-title">
    <h1 class="no-toc-progress">データ構造と操作</h1>
</div>
<div class="talk-subtitle">
    <p>第2講 - R言語で扱うデータとその演算</p>
</div>
<div class="keyboard-usage">
    <p>(Press <code>?</code> for help, <code>n</code> and <code>p</code> for next and previous slide)</p>
</div>
<div class="talk-author">
  <p>村田 昇<br />
  </p>
</div>

</section>
<section>
<section id="slide-orgf636fc8">
<h2 id="orgf636fc8">講義概要</h2>
<ul>
<li>R言語のデータ構造</li>
<li>ベクトル・行列・リストの操作</li>
<li>ベクトルと行列のさまざまな計算</li>

</ul>
</section>
</section>
<section>
<section id="slide-org9b46382">
<h2 id="org9b46382">R言語のデータ構造</h2>
<div class="outline-text-2" id="text-org9b46382">
</div>
</section>
<section id="slide-org9266b08">
<h3 id="org9266b08">基本的なデータ構造</h3>
<ul>
<li>下記は基本的なもので標準環境で利用できる
<ul>
<li>ベクトル (vector)</li>
<li>行列 (matrix)</li>
<li>リスト (list)</li>
<li>データフレーム (data frame)</li>
<li>配列 (array) (今回は扱わない)</li>

</ul></li>
<li><b>パッケージ</b> で拡張することができる
<ul>
<li><span style="color:green;">データフレームの拡張</span> (<code>tibble, data.table</code> など)</li>
<li><span style="color:green;">時系列の扱い</span> (<code>zoo, xts</code> など)</li>

</ul></li>

</ul>
</section>
</section>
<section>
<section id="slide-org473a792">
<h2 id="org473a792">ベクトル</h2>
<div class="outline-text-2" id="text-org473a792">
</div>
</section>
<section id="slide-orgc0dde0d">
<h3 id="orgc0dde0d">ベクトルとは</h3>
<ul>
<li>同じデータ型の値 (スカラー値) の集合
<ul>
<li>数値 (実数や複素数)</li>
<li>文字列 (&rsquo;や&ldquo;で囲まれた文字．&rdquo;foo&ldquo;，&rdquo;bar"など)</li>
<li>論理値 ( <code>TRUE</code> , <code>FALSE</code> )</li>

</ul></li>
<li>Rオブジェクトの多くはベクトルとして扱われる</li>
<li>スカラーは長さ1のベクトルとして扱われる</li>

</ul>
</section>
<section id="slide-orgf01165d">
<h3 id="orgf01165d">ベクトルの生成</h3>
<ul>
<li><p>
数値や文字列の要素からなるベクトルの生成
</p>
<div class="org-src-container">

<pre class="src src-R">(x <span style="color: #60aa00;">&lt;-</span> c(<span style="color: #d08928;">"Alice"</span>,<span style="color: #d08928;">"Bob"</span>,<span style="color: #d08928;">"Cathy"</span>,<span style="color: #d08928;">"David"</span>)) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#25991;&#23383;&#21015;&#12398;&#12505;&#12463;&#12488;&#12523;</span>
(y <span style="color: #60aa00;">&lt;-</span> c(1,-2, 3,-4, 5)) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#25968;&#20516;&#12398;&#12505;&#12463;&#12488;&#12523;</span>
(z <span style="color: #60aa00;">&lt;-</span> c(<span style="color: #d08928;">"apple"</span>,<span style="color: #d08928;">"berry"</span>,<span style="color: #d08928;">"cat"</span>,<span style="color: #d08928;">"dog"</span>,<span style="color: #d08928;">"elephant"</span>)) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#25991;&#23383;&#21015;&#12398;&#12505;&#12463;&#12488;&#12523;</span>
<span style="color: #808080; font-weight: bold; font-style: italic;">#</span><span style="color: #808080; font-weight: bold; font-style: italic;">'</span><span style="color: #808080; font-style: italic;"> &#22806;&#20596;&#12398; () &#12399;&#20195;&#20837;&#12375;&#12383;&#32080;&#26524;&#12398;&#34920;&#31034;&#65294;print() &#12392;&#21516;&#32681;</span>
</pre>
</div>

<pre class="example">
[1] "Alice" "Bob"   "Cathy" "David"
[1]  1 -2  3 -4  5
[1] "apple"    "berry"    "cat"      "dog"      "elephant"
</pre></li>

</ul>

</section>
<section>
<ul>
<li><p>
<code>a</code> から <code>b</code> まで
1ずつ変化するベクトル (演算子 <code>:</code>)
</p>
<div class="org-src-container">

<pre class="src src-R">a <span style="color: #60aa00;">&lt;-</span> 8; b <span style="color: #60aa00;">&lt;-</span> 15 <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#22793;&#25968; a,b &#12395;&#20516;&#12434;&#20195;&#20837;&#65294;&#35079;&#25968;&#12467;&#12510;&#12531;&#12489;&#12399; ; &#12391;&#21306;&#20999;&#12427;</span>
a:b <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">a &lt; b &#12398;&#22580;&#21512;&#12399;1&#12378;&#12388;&#22679;&#21152;&#12377;&#12427;&#31995;&#21015;&#12364;&#20316;&#25104;&#12373;&#12428;&#12427;</span>
a <span style="color: #60aa00;">&lt;-</span> 29.5; b <span style="color: #60aa00;">&lt;-</span> 24
a:b <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#36870;&#12398;&#22580;&#21512;&#12399;1&#12378;&#12388;&#28187;&#23569;&#12377;&#12427;&#31995;&#21015;&#12364;&#20316;&#25104;&#12373;&#12428;&#12427;</span>
29.5:24 <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#30452;&#25509;&#25968;&#20516;&#12434;&#26360;&#12356;&#12390;&#12418;&#12424;&#12356;</span>
</pre>
</div>

<pre class="example">
[1]  8  9 10 11 12 13 14 15
[1] 29.5 28.5 27.5 26.5 25.5 24.5
[1] 29.5 28.5 27.5 26.5 25.5 24.5
</pre></li>

<li><p>
<code>a</code> から <code>b</code> まで
<code>c</code> ずつ変化するベクトル (関数 <code>seq()</code>)
</p>
<div class="org-src-container">

<pre class="src src-R">a <span style="color: #60aa00;">&lt;-</span> 1; b <span style="color: #60aa00;">&lt;-</span> 16; c <span style="color: #60aa00;">&lt;-</span> 2 <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#22793;&#25968; a,b,c &#12395;&#20516;&#12434;&#20195;&#20837;</span>
seq(a, b, by = c) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#26126;&#31034;&#12377;&#12427;&#22580;&#21512;&#12399; seq(from = a, to = b, by = c)</span>
</pre>
</div>

<pre class="example">
[1]  1  3  5  7  9 11 13 15
</pre></li>

</ul>
</section>
<section id="slide-org15d8ff8">
<h3 id="org15d8ff8">ベクトルの操作</h3>
<ul>
<li><p>
ベクトルの長さの取得 (関数 <code>length()</code>)
</p>
<div class="org-src-container">

<pre class="src src-R">length(x) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#26368;&#24460;&#12398;&#35201;&#32032;&#12434;&#21442;&#29031;&#12377;&#12427;&#22580;&#21512;&#12394;&#12393;&#12395;&#21033;&#29992;&#12391;&#12365;&#12427;    </span>
</pre>
</div>

<pre class="example">
[1] 4
</pre></li>

<li><p>
ベクトルの要素の取得 (演算子 <code>[]</code>)
</p>
<div class="org-src-container">

<pre class="src src-R">x[3] <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">x&#12398;&#31532;3&#35201;&#32032; (&#12505;&#12463;&#12488;&#12523;&#12398;&#28155;&#12360;&#23383;&#12399;1&#12363;&#12425;&#22987;&#12414;&#12427;)</span>
y[c(1,3,4)] <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#35079;&#25968;&#12398;&#35201;&#32032; = c(y[1], y[3], y[4])</span>
</pre>
</div>

<pre class="example">
[1] "Cathy"
[1]  1  3 -4
</pre></li>

</ul>

</section>
<section>
<ul>
<li><p>
ベクトルの反転 (関数 <code>rev()</code>)
</p>
<div class="org-src-container">

<pre class="src src-R">rev(x)
</pre>
</div>

<pre class="example">
[1] "David" "Cathy" "Bob"   "Alice"
</pre></li>

<li><p>
ベクトルの結合 (関数 <code>c()</code>)
</p>
<div class="org-src-container">

<pre class="src src-R">c(x, z) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#21516;&#12376;&#12487;&#12540;&#12479;&#22411;&#12398;&#12418;&#12398;&#12399;&#21336;&#32020;&#12395;&#32080;&#21512;&#12373;&#12428;&#12427;</span>
c(x, y) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#30064;&#12394;&#12427;&#12487;&#12540;&#12479;&#22411;&#12398;&#12418;&#12398;&#12399;&#32080;&#21512;&#12391;&#12365;&#12394;&#12356;&#12398;&#12391;&#33258;&#21205;&#30340;&#12395;&#26360;&#12365;&#25563;&#12360;&#12425;&#12428;&#12427;</span>
</pre>
</div>

<pre class="example">
[1] "Alice"    "Bob"      "Cathy"    "David"    "apple"    "berry"   
[7] "cat"      "dog"      "elephant"
[1] "Alice" "Bob"   "Cathy" "David" "1"     "-2"    "3"     "-4"    "5"
</pre></li>

</ul>

</section>
<section>
<ul>
<li><p>
ベクトルの繰り返し (関数 <code>rep()</code>)
</p>
<div class="org-src-container">

<pre class="src src-R">rep(y, 3) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#38263;&#12373;&#12399; length(y) * 3</span>
rep(y, times = 3) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#21336;&#32020;&#12395;&#32368;&#12426;&#36820;&#12377;&#65294;&#19978;&#35352;&#12392;&#21516;&#27096;</span>
rep(y, each = 3)  <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#21508;&#35201;&#32032;&#12434;&#32368;&#12426;&#36820;&#12377;</span>
rep(y, length.out = 12)  <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#32368;&#12426;&#36820;&#12375;&#12383;&#32080;&#26524;&#12398;&#38263;&#12373;&#12434;&#25351;&#23450;&#12377;&#12427;</span>
</pre>
</div>

<pre class="example">
 [1]  1 -2  3 -4  5  1 -2  3 -4  5  1 -2  3 -4  5
[1]  1 -2  3 -4  5  1 -2  3 -4  5  1 -2  3 -4  5
[1]  1  1  1 -2 -2 -2  3  3  3 -4 -4 -4  5  5  5
[1]  1 -2  3 -4  5  1 -2  3 -4  5  1 -2
</pre></li>

</ul>
</section>
</section>
<section>
<section id="slide-orgd80d5a9" data-background="#fef4f4">
<h2 id="orgd80d5a9">実習</h2>
</section>
<section id="slide-org0f6a3f1" data-background="#fef4f4">
<h3 id="org0f6a3f1">練習問題</h3>
<ul>
<li>以下に示すベクトルを作成してみよう
<ul>
<li>1から10までの自然数のベクトル</li>
<li>1以上30以下の奇数を昇順に並べたベクトル</li>
<li>すべての要素が1からなる長さ10のベクトル</li>

</ul></li>
<li>作成したベクトルを操作してみよう
<ul>
<li>ベクトルの長さを求める</li>
<li>3番目の要素を取り出す</li>
<li>最後の要素を取り出す</li>

</ul></li>

</ul>
</section>
</section>
<section>
<section id="slide-orgab8432a">
<h2 id="orgab8432a">行列</h2>
<div class="outline-text-2" id="text-orgab8432a">
</div>
</section>
<section id="slide-orgd797410">
<h3 id="orgd797410">行列とは</h3>
<ul>
<li>スカラー値を2次元状(縦横)に並べたもの
<ul>
<li>縦(列)ベクトルを列方向に並べて束ねたもの</li>
<li>横(行)ベクトルを行方向に並べて束ねたもの</li>

</ul></li>
<li>データ型は何でもよいが <b>混在はできない</b></li>
<li>データフレームは行列を拡張したもの</li>

</ul>
</section>
<section id="slide-org94cd26d">
<h3 id="org94cd26d">行列の生成</h3>
<ul>
<li><p>
すべての要素が <code>a</code> である \(m\times n\) 型行列の生成 <br />
(関数 <code>matrix()</code>)
</p>
<div class="org-src-container">

<pre class="src src-R">a <span style="color: #60aa00;">&lt;-</span> 2; m <span style="color: #60aa00;">&lt;-</span> 3; n <span style="color: #60aa00;">&lt;-</span> 4 <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#22793;&#25968; a,m,n &#12395;&#20516;&#12434;&#20195;&#20837;</span>
matrix(a, m, n) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#26126;&#31034;&#12377;&#12427;&#22580;&#21512;&#12399; matrix(data = a, nrow = m, ncol = n)</span>
</pre>
</div>

<pre class="example">
[,1] [,2] [,3] [,4]
[1,]    2    2    2    2
[2,]    2    2    2    2
[3,]    2    2    2    2
</pre></li>

</ul>

</section>
<section>
<ul>
<li><p>
長さ \(mn\) のベクトル <code>a</code> を \(m\times n\) 型行列に変換 <br />
(関数 <code>matrix()</code>)
</p>
<div class="org-src-container">

<pre class="src src-R">a <span style="color: #60aa00;">&lt;-</span> 2:13 <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#22793;&#25968; a &#12395;&#20516;&#12434;&#20195;&#20837; (m*n = 12 &#25991;&#23383;&#29992;&#24847;)</span>
(A <span style="color: #60aa00;">&lt;-</span> matrix(a, m, n)) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#20006;&#12403;&#38918;&#12434;&#22793;&#12360;&#12427;&#12395;&#12399; matrix(a,m,n,byrow = TRUE)</span>
</pre>
</div>

<pre class="example">
[,1] [,2] [,3] [,4]
[1,]    2    5    8   11
[2,]    3    6    9   12
[3,]    4    7   10   13
</pre></li>
<li><p>
行列のベクトル化 (関数 <code>as.vector()</code>)
</p>
<div class="org-src-container">

<pre class="src src-R">as.vector(A) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">matrix &#12398;&#36870;&#22793;&#25563;&#12395;&#12354;&#12383;&#12427;</span>
</pre>
</div>

<pre class="example">
[1]  2  3  4  5  6  7  8  9 10 11 12 13
</pre></li>

</ul>

</section>
<section>
<ul>
<li><p>
長さが等しい複数のベクトルの結合 <br />
(関数 <code>rbind(),cbind()</code>)
</p>
<div class="org-src-container">

<pre class="src src-R">a <span style="color: #60aa00;">&lt;-</span> 4:7; b <span style="color: #60aa00;">&lt;-</span> 10:7; c <span style="color: #60aa00;">&lt;-</span> c(2,4,8,16) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#22793;&#25968; a,b,c &#12395;&#20516;&#12434;&#20195;&#20837;</span>
rbind(a, b, c) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#34892;&#12505;&#12463;&#12488;&#12523;&#12392;&#12375;&#12390;&#32080;&#21512; (row vector bind)</span>
cbind(a, b, c) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#21015;&#12505;&#12463;&#12488;&#12523;&#12392;&#12375;&#12390;&#32080;&#21512; (column vector bind)</span>
</pre>
</div>

<pre class="example">
[,1] [,2] [,3] [,4]
a    4    5    6    7
b   10    9    8    7
c    2    4    8   16
a  b  c
[1,] 4 10  2
[2,] 5  9  4
[3,] 6  8  8
[4,] 7  7 16
</pre></li>

</ul>
</section>
<section id="slide-orge710999">
<h3 id="orge710999">行列の操作</h3>
<ul>
<li><p>
行列のサイズの取得 (関数 <code>dim()</code> とその仲間)
</p>
<div class="org-src-container">

<pre class="src src-R">dim(A) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#38306;&#25968;&#12398;&#36820;&#20516;&#12399;&#38263;&#12373;2&#12398;&#12505;&#12463;&#12488;&#12523; (&#34892;&#25968;,&#21015;&#25968;) &#12392;&#12394;&#12427;&#12371;&#12392;&#12395;&#27880;&#24847;</span>
nrow(A) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#34892;&#25968;</span>
ncol(A) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#21015;&#25968;</span>
dim(A)[1] <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">nrow(A) &#12392;&#21516;&#20516;</span>
dim(A)[2] <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">ncol(A) &#12392;&#21516;&#20516;</span>
</pre>
</div>

<pre class="example">
[1] 3 4
[1] 3
[1] 4
[1] 3
[1] 4
</pre></li>

</ul>

</section>
<section>
<ul>
<li><p>
行列の成分の取得 (演算子 <code>[]</code>)
</p>
<div class="org-src-container">

<pre class="src src-R">A[3,4] <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">(3,4)&#25104;&#20998;</span>
A[3, ] <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#31532;3&#34892;&#12398;&#12505;&#12463;&#12488;&#12523;</span>
A[ ,4] <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#31532;4&#21015;&#12398;&#12505;&#12463;&#12488;&#12523;</span>
A[c(1,3),] <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">1,3&#34892;&#12363;&#12425;&#12394;&#12427;&#37096;&#20998;&#34892;&#21015;&#65294;2x4&#22411;&#34892;&#21015;&#12395;&#12394;&#12427;</span>
A[c(1,3),2:4] <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">1,3&#34892;&#12392;&#65292;2,3,4&#21015;&#12363;&#12425;&#12394;&#12427;&#37096;&#20998;&#34892;&#21015;&#65294;2x3&#22411;&#34892;&#21015;&#12395;&#12394;&#12427;</span>
</pre>
</div>

<pre class="example">
[1] 13
[1]  4  7 10 13
[1] 11 12 13
[,1] [,2] [,3] [,4]
[1,]    2    5    8   11
[2,]    4    7   10   13
[,1] [,2] [,3]
[1,]    5    8   11
[2,]    7   10   13
</pre></li>

</ul>
</section>
<section id="slide-orgc60f122">
<h3 id="orgc60f122">行列の操作に関する補足</h3>
<ul>
<li>関数 <code>cbind()/rbind()</code> は行数・列数が等しい行列も横・縦に結合できる</li>
<li>行列の高次元版として配列(array)が用意されている</li>
<li>関数 <code>rownames()/colnames()</code> を用いると行と列に名前を付けることができる</li>
<li><span style="color:gray;">これらの機能は講義の中で使いながら説明する</span></li>

</ul>
</section>
</section>
<section>
<section id="slide-org254cc13" data-background="#fef4f4">
<h2 id="org254cc13">実習</h2>
</section>
<section id="slide-orgf5f7b5a" data-background="#fef4f4">
<h3 id="orgf5f7b5a">練習問題</h3>
<ul>
<li><p>
以下に示す行列を作成してみよう
</p>
<div>
\begin{equation}
  M = 
  \begin{pmatrix}
    1  & 2  & 3  \\
    4  & 5  & 6 
  \end{pmatrix}
\end{equation}

</div></li>
<li>行列を操作してみよう
<ul>
<li>2行2列成分を取り出す</li>
<li>転置行列を作成する</li>
<li>行名をつける</li>

</ul></li>

</ul>
</section>
</section>
<section>
<section id="slide-org9427e79">
<h2 id="org9427e79">その他のデータ構造</h2>
<div class="outline-text-2" id="text-org9427e79">
</div>
</section>
<section id="slide-org2dd67e9">
<h3 id="org2dd67e9">リストとは</h3>
<ul>
<li>異なる構造のオブジェクトを1つにまとめたもの
<ul>
<li>リストの各要素は異なるデータ型・サイズであって構わない</li>
<li>複数のデータフレームを扱うときなどに応用可能</li>

</ul></li>
<li>本講義のデータ解析ではほとんど用いない
<ul>
<li>Rの関数の操作ではときどき必要</li>

</ul></li>
<li>データフレームはリストの特殊なもの</li>

</ul>
</section>
<section id="slide-org4cb8257">
<h3 id="org4cb8257">リストの生成と操作</h3>
<ul>
<li><p>
リストの生成 (関数 <code>list()</code>)
</p>
<div class="org-src-container">

<pre class="src src-R">(L <span style="color: #60aa00;">&lt;-</span> list(x,y)) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">x,y&#12434;&#35201;&#32032;&#12392;&#12377;&#12427;&#12522;&#12473;&#12488;</span>
</pre>
</div>

<pre class="example">
[[1]]
[1] "Alice" "Bob"   "Cathy" "David"

[[2]]
[1]  1 -2  3 -4  5
</pre></li>

<li><p>
リストの要素の参照 (演算子 <code>[[]]</code>)
</p>
<div class="org-src-container">

<pre class="src src-R">L[[1]] <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#12522;&#12473;&#12488;&#12398;&#31532;1&#35201;&#32032;</span>
</pre>
</div>

<pre class="example">
[1] "Alice" "Bob"   "Cathy" "David"
</pre></li>

</ul>

</section>
<section>
<ul>
<li><p>
リストの各要素に名前を付与 (関数 <code>names()</code>)
</p>
<div class="org-src-container">

<pre class="src src-R"><span style="color: #808080; font-weight: bold; font-style: italic;">#</span><span style="color: #808080; font-weight: bold; font-style: italic;">'</span><span style="color: #808080; font-style: italic;"> &#26041;&#27861;1 (&#20316;&#25104;&#26178;&#12395;&#21517;&#21069;&#12434;&#20184;&#19982;)</span>
(L1 <span style="color: #60aa00;">&lt;-</span> list(first=x, second=y))
</pre>
</div>

<pre class="example">
$first
[1] "Alice" "Bob"   "Cathy" "David"

$second
[1]  1 -2  3 -4  5
</pre>


<div class="org-src-container">

<pre class="src src-R"><span style="color: #808080; font-weight: bold; font-style: italic;">#</span><span style="color: #808080; font-weight: bold; font-style: italic;">'</span><span style="color: #808080; font-style: italic;"> &#26041;&#27861;2 (&#20316;&#25104;&#24460;&#12395;&#21517;&#21069;&#12434;&#22793;&#26356;)</span>
L2 <span style="color: #60aa00;">&lt;-</span> list(x,y) 
names(L2) <span style="color: #60aa00;">&lt;-</span> c(<span style="color: #d08928;">"1st"</span>,<span style="color: #d08928;">"2nd"</span>)
L2 <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#12522;&#12473;&#12488;&#12434;&#34920;&#31034;</span>
</pre>
</div>

<pre class="example">
$`1st`
[1] "Alice" "Bob"   "Cathy" "David"

$`2nd`
[1]  1 -2  3 -4  5
</pre></li>

</ul>

</section>
<section>
<ul>
<li><p>
名前によるリストの要素の取得 (演算子 <code>[[]],$</code>)
</p>
<div class="org-src-container">

<pre class="src src-R"><span style="color: #808080; font-weight: bold; font-style: italic;">#</span><span style="color: #808080; font-weight: bold; font-style: italic;">'</span><span style="color: #808080; font-style: italic;"> &#26041;&#27861;1 (&#12522;&#12473;&#12488;&#12398;&#21517;&#21069;&#12391;&#21442;&#29031;)</span>
L1[[<span style="color: #d08928;">"first"</span>]]
L2[[<span style="color: #d08928;">"2nd"</span>]] 
</pre>
</div>

<pre class="example">
[1] "Alice" "Bob"   "Cathy" "David"
[1]  1 -2  3 -4  5
</pre>


<div class="org-src-container">

<pre class="src src-R"><span style="color: #808080; font-weight: bold; font-style: italic;">#</span><span style="color: #808080; font-weight: bold; font-style: italic;">'</span><span style="color: #808080; font-style: italic;"> &#26041;&#27861;2 (&#35352;&#21495;$&#12434;&#29992;&#12356;&#12427;&#22580;&#21512;&#12399;""&#12399;&#19981;&#35201;&#12394;&#12371;&#12392;&#12395;&#27880;&#24847;)</span>
L1$first      
L2$`2nd` <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#25968;&#23383;&#12391;&#22987;&#12414;&#12427;&#25991;&#23383;&#21015;&#12399;``&#12434;&#29992;&#12356;&#12427;&#24517;&#35201;&#12364;&#12354;&#12427;</span>
</pre>
</div>

<pre class="example">
[1] "Alice" "Bob"   "Cathy" "David"
[1]  1 -2  3 -4  5
</pre></li>

</ul>
</section>
<section id="slide-orga3fdecf">
<h3 id="orga3fdecf">データフレームとは</h3>
<ul>
<li>長さの等しいベクトルを束ねたリスト</li>
<li>複数の属性を持つ実データに則したデータ構造</li>
<li>各列は異なるデータ型でも良い</li>
<li>データフレームは <b>リスト</b> でもある<br />
リストと同様にして各変数を取得できる</li>
<li>データフレームは <b>行列</b> のように扱える<br />
行列と同様にして各変数を取得できる</li>

</ul>
</section>
<section id="slide-org649c7fb">
<h3 id="org649c7fb">データフレームの生成</h3>
<ul>
<li><p>
データフレームの生成 (関数 <code>data.frame()</code>)
</p>
<div class="org-src-container">

<pre class="src src-R"><span style="color: #808080; font-weight: bold; font-style: italic;">#</span><span style="color: #808080; font-weight: bold; font-style: italic;">'</span><span style="color: #808080; font-style: italic;"> &#21069;&#22238;&#12398;&#32244;&#32722;&#21839;&#38988;</span>
<span style="color: #60aa00;">library</span>(tibble)
(foo <span style="color: #60aa00;">&lt;-</span>
   tibble(
     name = c(<span style="color: #d08928;">"Alice"</span>, <span style="color: #d08928;">"Bob"</span>, <span style="color: #d08928;">"Carol"</span>, <span style="color: #d08928;">"Dave"</span>, <span style="color: #d08928;">"Eve"</span>),
     math = c(90, 80, 70, 60, 50),
     phys = c(25, 50, 75,100, 80),
     chem = c(65,100, 70, 40, 75),
     bio  = c(70, 50, 30, 80,100)))
</pre>
</div></li>
<li><span style="color:gray;">操作については別の回に詳細に説明する</span></li>

</ul>
</section>
</section>
<section>
<section id="slide-org9501c29">
<h2 id="org9501c29">ベクトルの計算</h2>
<div class="outline-text-2" id="text-org9501c29">
</div>
</section>
<section id="slide-org40aa23d">
<h3 id="org40aa23d">ベクトルの表記</h3>
<ul>
<li><p>
ベクトルは太字，要素は下付き添字で表す
</p>
<blockquote>
<div>
\begin{equation}
  \boldsymbol{a}
  =(a_{1},a_{2},\dotsc,a_{k})
\end{equation}

</div>
</blockquote></li>
<li><p>
別の書き方
</p>
<blockquote>
<div>
\begin{equation}
  (\boldsymbol{a})_{i}
  =\text{(ベクトル \(\boldsymbol{a}\) の第 \(i\) 成分)}  
\end{equation}

</div>
</blockquote></li>
<li><p>
Rの書式 (関数 <code>c()</code>)
</p>
<div class="org-src-container">

<pre class="src src-R">a <span style="color: #60aa00;">&lt;-</span> c(a1,a2,...,ak) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">k&#27425;&#20803;&#12505;&#12463;&#12488;&#12523;&#12398;&#20316;&#25104; (&#25836;&#20284;&#12467;&#12540;&#12489;)</span>
</pre>
</div></li>

</ul>
</section>
<section id="slide-orgf621b33">
<h3 id="orgf621b33">ベクトルの加法</h3>
<ul>
<li><p>
<b>同じ長さのベクトル</b> の和および差
</p>
<blockquote>
<div>
\begin{equation}
  \boldsymbol{a}\pm\boldsymbol{b}
  =(a_{1}\pm b_{1},a_{2}\pm b_{2},\dotsc,a_{k}\pm b_{k})
\end{equation}

</div>
<div>
\begin{equation}
  (\boldsymbol{a}\pm\boldsymbol{b})_{i}
  =a_{i}\pm b_{i}
\end{equation}

</div>
</blockquote>
<ul>
<li>数値の和と差のように扱うことができる</li>

</ul></li>
<li><p>
Rの書式 (演算子 <code>+,-</code>)
</p>
<div class="org-src-container">

<pre class="src src-R">a + b <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#21516;&#12376;&#38263;&#12373;&#12398;&#12505;&#12463;&#12488;&#12523; a,b &#12398;&#21644;&#65294;&#21516;&#12376;&#38263;&#12373;&#12398;&#12505;&#12463;&#12488;&#12523;&#12364;&#36820;&#12427;</span>
a - b <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#12505;&#12463;&#12488;&#12523;&#12398;&#24046;</span>
</pre>
</div></li>

</ul>
</section>
<section id="slide-org05599f4">
<h3 id="org05599f4">ベクトルの乗法</h3>
<ul>
<li><p>
<b>同じ長さの2つのベクトル</b> の乗法
</p>
<ul>
<li>成分ごとの積 (Hadamard 積; 要素積)</li>
<li>ベクトルの内積</li>

</ul>
<p>
<span style="color:gray;">2種類あることに注意する</span>
</p></li>
<li>データ解析ではどちらも良く用いられる</li>

</ul>
</section>
<section id="slide-org541027a">
<h3 id="org541027a">Hadamard 積</h3>
<ul>
<li><p>
<b>同じ長さのベクトル</b> の成分ごとの積
</p>
<blockquote>
<div>
\begin{equation}
  \boldsymbol{a}\circ\boldsymbol{b}
  =(a_{1}b_{1},a_{2}b_{2},\dotsc,a_{k}b_{k})
\end{equation}

</div>
<div>
\begin{equation}
  (\boldsymbol{a}\circ\boldsymbol{b})_{i}
  =a_{i}b_{i}
\end{equation}

</div>
</blockquote></li>
<li><p>
Rの書式 (演算子 <code>*,/</code>)
</p>
<div class="org-src-container">

<pre class="src src-R">a * b <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#12505;&#12463;&#12488;&#12523;&#12398;&#25104;&#20998;&#12372;&#12392;&#12398;&#31309;&#65294;&#21516;&#12376;&#38263;&#12373;&#12398;&#12505;&#12463;&#12488;&#12523;&#12364;&#36820;&#12427;</span>
a / b <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#25104;&#20998;&#12372;&#12392;&#12398;&#21830;&#12418;&#35336;&#31639;&#21487;</span>
</pre>
</div></li>

</ul>
</section>
<section id="slide-orgdd2179c">
<h3 id="orgdd2179c">内積</h3>
<ul>
<li><p>
<b>同じ長さのベクトル</b> の内積
</p>
<blockquote>
<div>
\begin{align}
  \boldsymbol{a}\cdot\boldsymbol{b}
  &=a_{1}b_{1}+a_{2}b_{2}+\dotsb+a_{k}b_{k}\\
  &=\sum_{i=1}^{k}a_{i}b_{i}
\end{align}

</div>
</blockquote></li>
<li><p>
Rの書式 (演算子 <code>%*%</code>)
</p>
<div class="org-src-container">

<pre class="src src-R">a <span style="color: #60aa00;">%*%</span> b <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#12505;&#12463;&#12488;&#12523;&#12398;&#20869;&#31309;&#65294;1x1&#22411;&#12398;&#34892;&#21015;&#12364;&#36820;&#12427;</span>
</pre>
</div></li>

</ul>
</section>
</section>
<section>
<section id="slide-org4996bea">
<h2 id="org4996bea">行列の計算</h2>
<div class="outline-text-2" id="text-org4996bea">
</div>
</section>
<section id="slide-org98c333d">
<h3 id="org98c333d">行列の表記</h3>
<ul>
<li><p>
行列は大文字，要素は下付き添字で表す
</p>
<blockquote>
<div>
\begin{equation}
  A
  =
  \begin{pmatrix}
    a_{11}&\dots&a_{1n}\\
    \vdots&\ddots&\vdots\\
    a_{m1}&\dots&a_{mn}
  \end{pmatrix}
  % \begin{pmatrix}
  %   a_{11}&a_{12}&\dots&a_{1n}\\
  %   a_{21}&a_{22}&\dots&a_{2n}\\
  %   \vdots&&\ddots&\vdots\\
  %   a_{m1}&a_{m2}&\dots&a_{mn}
  % \end{pmatrix}
\end{equation}

</div>
</blockquote></li>
<li><p>
別の書き方
</p>
<blockquote>
<div>
\begin{equation}
  (A)_{ij}
  =\text{(行列 \(A\) の \(ij\) 成分)}
\end{equation}

</div>
</blockquote></li>
<li><p>
Rの書式 (関数 <code>matrix()</code>)
</p>
<div class="org-src-container">

<pre class="src src-R">A <span style="color: #60aa00;">&lt;-</span> matrix(c(a11,a21,...,amn), m, n) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">m x n &#22411;&#34892;&#21015;&#12398;&#20316;&#25104; (&#25836;&#20284;&#12467;&#12540;&#12489;)</span>
</pre>
</div></li>

</ul>
</section>
<section id="slide-org6978d74">
<h3 id="org6978d74">行列の加法</h3>
<ul>
<li><p>
<b>同じ大きさの行列</b> の和および差
</p>
<blockquote>
<div>
\begin{equation}
  (A\pm B)_{ij}=a_{ij}\pm b_{ij}
\end{equation}

</div>
</blockquote>
<ul>
<li>ベクトルと同じように記述することができる</li>

</ul></li>
<li><p>
Rの書式
</p>
<div class="org-src-container">

<pre class="src src-R">A + B <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#21516;&#12376;&#12469;&#12452;&#12474;&#12398;&#34892;&#21015;&#12398;&#21644;&#65294;&#21516;&#12376;&#12469;&#12452;&#12474;&#12398;&#34892;&#21015;&#12364;&#36820;&#12427;</span>
A - B <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#34892;&#21015;&#12398;&#24046;</span>
</pre>
</div></li>

</ul>
</section>
<section id="slide-org0d98b71">
<h3 id="org0d98b71">行列の乗法</h3>
<ul>
<li><p>
2つの行列の乗法
</p>
<ul>
<li><b>同じ大きさの行列</b> の成分ごとの積 (Hadamard 積; 要素積)</li>
<li><b>\(n\times m\) 型行列と \(m\times l\) 型行列</b> の積</li>

</ul>
<p>
<span style="color:gray;">2種類あることに注意する</span>
</p></li>
<li>データ解析ではどちらも良く用いられる</li>

</ul>
</section>
<section id="slide-orged30c05">
<h3 id="orged30c05">Hadamard 積</h3>
<ul>
<li><p>
<b>同じ大きさの行列</b> の成分ごとの積
</p>
<blockquote>
<div>
\begin{equation}
  (A\circ B)_{ij}=a_{ij}b_{ij}
\end{equation}

</div>
</blockquote></li>
<li><p>
Rの書式 (演算子 <code>*,/</code>)
</p>
<div class="org-src-container">

<pre class="src src-R">A * B <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#34892;&#21015;&#12398;&#25104;&#20998;&#12372;&#12392;&#12398;&#31309;&#65294;&#21516;&#12376;&#12469;&#12452;&#12474;&#12398;&#34892;&#21015;&#12364;&#36820;&#12427;</span>
A / B <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#25104;&#20998;&#12372;&#12392;&#12398;&#21830;&#12418;&#35336;&#31639;&#21487;</span>
</pre>
</div></li>

</ul>
</section>
<section id="slide-org9494537">
<h3 id="org9494537">行列の積</h3>
<ul>
<li><p>
<b>\(n\times m\) 型行列 \(A\) と \(m\times l\) 型行列 \(B\)</b> の積
</p>
<blockquote>
<div>
\begin{equation}
  (AB)_{ij}=\sum_{k=1}^{m}a_{ik}b_{kj}
  \quad\text{(\(AB\)は\(n\times l\)行列)}
\end{equation}

</div>
</blockquote></li>
<li><p>
Rの書式 (演算子 <code>%*%</code>)
</p>
<div class="org-src-container">

<pre class="src src-R">A <span style="color: #60aa00;">%*%</span> B <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#34892;&#21015;&#12398;&#31309;&#65294;n x l &#22411;&#34892;&#21015;&#12364;&#36820;&#12427;</span>
</pre>
</div></li>

</ul>
</section>
<section id="slide-orgca27c0f">
<h3 id="orgca27c0f">行列式</h3>
<ul>
<li><p>
<b>\(n\) 次正方行列</b> \(A\) の行列式
</p>
<blockquote>
<div>
\begin{equation}
  \det(A)\quad (=|A|)
\end{equation}

</div>
</blockquote>
<ul>
<li><b>正方行列でなければ定義されない</b> ことに注意する</li>

</ul></li>
<li><p>
Rの書式 (関数 <code>det()</code>)
</p>
<div class="org-src-container">

<pre class="src src-R">det(A) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#34892;&#21015;&#24335; </span>
</pre>
</div></li>

</ul>
</section>
<section id="slide-org2051c09">
<h3 id="org2051c09">トレース</h3>
<ul>
<li><p>
<b>\(n\) 次正方行列</b> \(A\) のトレース(対角成分の総和)
</p>
<blockquote>
<div>
\begin{equation}
  \mathrm{trace}(A)=\sum_{i=1}^{n}a_{ii}
\end{equation}

</div>
</blockquote></li>
<li><p>
Rの書式 (関数は用意されていないので以下を利用) 
</p>
<div class="org-src-container">

<pre class="src src-R">sum(diag(A)) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#34892;&#21015;&#12398;&#12488;&#12524;&#12540;&#12473;</span>
</pre>
</div>
<ul>
<li>関数 <code>diag()</code> : 行列の対角成分を取り出す <br />
(ベクトルを引数とする場合はそれを対角成分とする対角行列を返す)</li>
<li>関数 <code>sum()</code> : ベクトルの総和を計算する</li>

</ul></li>

</ul>
</section>
</section>
<section>
<section id="slide-org00e82dd" data-background="#fef4f4">
<h2 id="org00e82dd">実習</h2>
</section>
<section id="slide-orgfe6b3c9">
<h3 id="orgfe6b3c9">例題</h3>
<ul>
<li><p>
適当な2次正方行列 \(A\) で
Hamilton-Cayley の定理
</p>
<blockquote>
<div>
\begin{equation}
  A^2-\mathrm{trace}(A)A+\det(A)E_{2}=O_{2}
\end{equation}

</div>
</blockquote>
<p>
の成立を確認せよ．
ただし \(E_{2}\) は2次単位行列，\(O_{2}\) は2次正方零行列とする．
</p></li>

</ul>

</section>
<section>
<ul>
<li><p>
解答例
</p>
<div class="org-src-container">

<pre class="src src-R"><span style="color: #808080; font-weight: bold; font-style: italic;">#</span><span style="color: #808080; font-weight: bold; font-style: italic;">'</span><span style="color: #808080; font-style: italic;"> &#34892;&#21015;&#12434;&#20316;&#25104; (&#22909;&#12365;&#12395;&#35373;&#23450;&#12375;&#12390;&#12424;&#12356;)</span>
(A <span style="color: #60aa00;">&lt;-</span> matrix(1:4,2,2) - diag(rep(3,2)))
<span style="color: #808080; font-weight: bold; font-style: italic;">#</span><span style="color: #808080; font-weight: bold; font-style: italic;">'</span><span style="color: #808080; font-style: italic;"> &#24038;&#36794;&#12434;&#35336;&#31639; (&#20024;&#12417;&#35492;&#24046;&#12398;&#31684;&#22258;&#12391;0&#12395;&#12394;&#12427;)</span>
A <span style="color: #60aa00;">%*%</span> A - sum(diag(A)) * A + det(A) * diag(rep(1,2))
</pre>
</div>

<pre class="example">
[,1] [,2]
[1,]   -2    3
[2,]    2    1
[,1]         [,2]
[1,] 1.776357e-15 0.000000e+00
[2,] 0.000000e+00 1.776357e-15
</pre></li>

</ul>
</section>
<section id="slide-org8a005e5" data-background="#fef4f4">
<h3 id="org8a005e5">練習問題</h3>
<ul>
<li>1から10の2乗値からなるベクトルを作成せよ</li>
<li>1から10までの和を計算せよ</li>
<li>行列を用いて九九の表を作成せよ</li>
<li><p>
30度の回転行列を2回乗ずると60度の回転行列となることを確認せよ
</p>
<blockquote>
<div>
\begin{equation}
  \text{(回転行列)}
  =
  \begin{pmatrix}
    \cos(\theta)&-\sin(\theta)\\
    \sin(\theta)& \cos(\theta)
  \end{pmatrix}
\end{equation}

</div>
</blockquote></li>

</ul>
</section>
</section>
<section>
<section id="slide-orgb513e05">
<h2 id="orgb513e05">ベクトルと行列の計算</h2>
<div class="outline-text-2" id="text-orgb513e05">
</div>
</section>
<section id="slide-orgcbbd1ad">
<h3 id="orgcbbd1ad">ベクトルと行列の乗法</h3>
<ul>
<li><p>
演算子 <code>%*%</code> を用いて計算する
</p>
<ul>
<li>列(縦)ベクトル・行(横)ベクトルという <b>区別はない</b></li>
<li>行列とベクトルの順序で適切に判断される</li>
<li>演算子 <code>%*%</code> による計算結果は <b>行列</b> で表現される</li>

</ul>
<div class="org-src-container">

<pre class="src src-R">A <span style="color: #60aa00;">&lt;-</span> matrix(1:4, 2, 2); b <span style="color: #60aa00;">&lt;-</span> c(5,6) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#34892;&#21015;&#12392;&#12505;&#12463;&#12488;&#12523;&#12434;&#20316;&#25104;</span>
A <span style="color: #60aa00;">%*%</span> b <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#34892;&#21015; x &#12505;&#12463;&#12488;&#12523; = &#21015;&#12505;&#12463;&#12488;&#12523;</span>
</pre>
</div>

<pre class="example">
[,1]
[1,]   23
[2,]   34
</pre>


<div class="org-src-container">

<pre class="src src-R">b <span style="color: #60aa00;">%*%</span> A <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#12505;&#12463;&#12488;&#12523; x &#34892;&#21015; = &#34892;&#12505;&#12463;&#12488;&#12523;</span>
</pre>
</div>

<pre class="example">
     [,1] [,2]
[1,]   17   39
</pre></li>

</ul>
</section>
<section id="slide-org609760a">
<h3 id="org609760a">連立1次方程式の解法</h3>
<ul>
<li><p>
連立1次方程式
</p>
<ul>
<li>\(A\) : \(n\) 次正則行列</li>
<li>\(\boldsymbol{b},\boldsymbol{x}\) : \(n\) 次元列ベクトル</li>

</ul>
<blockquote>
<div>
\begin{align}
  A\boldsymbol{x}&=\boldsymbol{b}
  &&\text{(連立1次方程式)}\\
  \boldsymbol{x}&=A^{-1}\boldsymbol{b}
  &&\text{(\(A\)が正則な場合)}
\end{align}

</div>
</blockquote></li>
<li><p>
解を求めるには関数 <code>solve()</code> を利用する
</p>
<div class="org-src-container">

<pre class="src src-R">x <span style="color: #60aa00;">&lt;-</span> solve(A, b) 
</pre>
</div>
<ul>
<li>ベクトル \(\boldsymbol{b}\) の代わりに行列も扱える</li>

</ul></li>

</ul>
</section>
<section id="slide-org2ce75e3">
<h3 id="org2ce75e3">逆行列</h3>
<ul>
<li><p>
正則な \(n\) 次正方行列 \(A\) の逆行列 \(A^{-1}\)
</p>
<blockquote>
<div>
\begin{equation}
  AA^{-1}=A^{-1}A=E_{n}
  \quad\text{(\(E_{n}\)は\(n\)次単位行列)}
\end{equation}

</div>
</blockquote></li>
<li><p>
関数 <code>solve()</code> を利用して求めることができる
</p>
<blockquote>
<div>
\begin{equation}
  AX = E_{n},\quad X = A^{-1}E_{n} = A^{-1}
\end{equation}

</div>
</blockquote>
<div class="org-src-container">

<pre class="src src-R">solve(A,B) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">AX=B &#12398;&#35299;X&#12434;&#27714;&#12417;&#12427;</span>
solve(A) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#36870;&#34892;&#21015; (B&#12364;&#21336;&#20301;&#34892;&#21015;&#12398;&#22580;&#21512;&#30465;&#30053;&#12391;&#12365;&#12427;)</span>
</pre>
</div>
<ul>
<li>他にもいくつか方法は用意されている</li>

</ul></li>

</ul>
</section>
<section id="slide-org06e3c91">
<h3 id="org06e3c91">関数の適用</h3>
<ul>
<li>ベクトルや行列に関数( \(\sin,\exp,\dots\) など)を適用すると
成分ごとに計算した結果が返される</li>
<li><p>
<span style="color:green;">ベクトル \(\boldsymbol{a}\) ，行列 \(A\) に関数 \(\sin\) を適用する</span>
</p>
<blockquote>
<div>
\begin{equation}
  (\sin(\boldsymbol{a}))_{i}=\sin(a_{i})
\end{equation}

</div>
<div>
\begin{equation}
  (\sin(A))_{ij}=\sin(a_{ij})
\end{equation}

</div>
</blockquote>
<div class="org-src-container">

<pre class="src src-R">sin(a) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#25104;&#20998;&#12372;&#12392;&#12395;&#35336;&#31639;&#12373;&#12428;&#12427;&#65294;sin(a)[i]=sin(a[i])</span>
sin(A) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#25104;&#20998;&#12372;&#12392;&#12395;&#35336;&#31639;&#12373;&#12428;&#12427;&#65294;sin(A)[i,j]=sin(A[i,j])</span>
</pre>
</div></li>

</ul>
</section>
</section>
<section>
<section id="slide-org4c0f804" data-background="#fef4f4">
<h2 id="org4c0f804">実習</h2>
</section>
<section id="slide-org91274a3">
<h3 id="org91274a3">例題</h3>
<ul>
<li><p>
適当な3次正方行列 \(A\) と3次元ベクトル \(\boldsymbol{b}\) を作成して
\(\boldsymbol{x}\) に関する以下の連立1次方程式を解きなさい
</p>
<blockquote>
<div>
\begin{equation}
  A\boldsymbol{x}=\boldsymbol{b}
\end{equation}

</div>
</blockquote></li>

</ul>

</section>
<section>
<ul>
<li><p>
解答例
</p>
<div class="org-src-container">

<pre class="src src-R">(A <span style="color: #60aa00;">&lt;-</span> matrix(rnorm(9), 3, 3) + diag(rep(1, 3))) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#34892;&#21015;&#12392;&#12505;&#12463;&#12488;&#12523;&#12434;&#20316;&#25104;</span>
<span style="color: #808080; font-weight: bold; font-style: italic;">#</span><span style="color: #808080; font-weight: bold; font-style: italic;">'</span><span style="color: #808080; font-style: italic;"> rnorm(9) &#12399;&#27491;&#35215;&#20081;&#25968;&#12434;9&#12388;&#20316;&#25104;&#12377;&#12427;(&#24460;&#12398;&#35611;&#32681;&#12391;&#35443;&#12375;&#12367;&#35500;&#26126;)</span>
(b <span style="color: #60aa00;">&lt;-</span> 1:3)
</pre>
</div>

<pre class="example">
          [,1]      [,2]       [,3]
[1,] 0.6195396 1.1504401 -0.4066585
[2,] 1.0220718 0.9600388  1.0254051
[3,] 0.4585697 1.9038018  0.2741894
[1] 1 2 3
</pre>


<div class="org-src-container">

<pre class="src src-R">(x <span style="color: #60aa00;">&lt;-</span> solve(A, b)) <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#35299;&#12434;&#35336;&#31639;</span>
A <span style="color: #60aa00;">%*%</span> x <span style="color: #808080; font-style: italic;"># </span><span style="color: #808080; font-style: italic;">&#32080;&#26524;&#12398;&#30906;&#35469;(b &#12395;&#12394;&#12427;&#12399;&#12378;)</span>
</pre>
</div>

<pre class="example">
[1] -0.5847107  1.5624745  1.0703870
[,1]
[1,]    1
[2,]    2
[3,]    3
</pre></li>

</ul>
</section>
<section id="slide-orgd72b2fc" data-background="#fef4f4">
<h3 id="orgd72b2fc">練習問題</h3>
<ul>
<li>1から10の2乗値からなるベクトルを作成せよ</li>
<li><p>
例題の \(A\) と \(\boldsymbol{b}\) を用いて
以下を計算するとエラーになる
</p>
<div class="org-src-container">

<pre class="src src-R">A <span style="color: #60aa00;">%*%</span> b + b <span style="color: #60aa00;">%*%</span> A   
</pre>
</div>
<p>
何故そうなるか理由を考えよ
</p></li>
<li>2次元ベクトルを回転行列で変換しても長さが変わらないことを確かめよ</li>

</ul>
</section>
</section>
<section>
<section id="slide-orgc8c5c2d">
<h2 id="orgc8c5c2d">次回の予定</h2>
<ul>
<li>R言語における関数</li>
<li>引数の扱い方 (引数名・順序・既定値)</li>
<li>自作関数の定義</li>
<li>制御構造 (条件分岐・繰り返し)</li>

</ul>
</div>
</div>
<script src="./reveal.js/dist/reveal.js"></script>
<script src="./reveal.js/plugin/notes/notes.js"></script>
<script src="./reveal.js/plugin/search/search.js"></script>
<script src="./reveal.js/plugin/zoom/zoom.js"></script>
<script src="./reveal.js/plugin/menu/menu.js"></script>
<script src="./reveal.js/plugin/spotlight/spotlight.js"></script>
<script src="./reveal.js/plugin/chalkboard/plugin.js"></script>
<script src="./reveal.js/dist/theme/hidelinks.js"></script>
<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

controls: true,
progress: true,
history: true,
center: true,
slideNumber: 'c',
rollingLinks: false,
keyboard: true,
mouseWheel: false,
fragmentInURL: true,
hashOneBasedIndex: false,
pdfSeparateFragments: false,
overview: true,

transition: 'fade',
transitionSpeed: 'default',
showNotes: window.location.search.match( /print-pdf/gi ) ? 'separate-page' : false,
spotlight: { size: 80, initialPresentationMode: false, }, keyboard: { 81: function() { RevealSpotlight.toggleSpotlight()}, 87: function() { RevealSpotlight.togglePresentationMode();}, },

// Plugins with reveal.js 4.x
plugins: [ RevealNotes, RevealSearch, RevealZoom, RevealMenu, RevealSpotlight, RevealChalkboard ],

// Optional libraries used to extend reveal.js
dependencies: [
]

});
</script>
</body>
</html>
